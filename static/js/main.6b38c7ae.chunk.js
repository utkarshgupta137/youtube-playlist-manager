(this["webpackJsonpyoutube-playlist-manager"]=this["webpackJsonpyoutube-playlist-manager"]||[]).push([[0],{153:function(e,t,n){},154:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var s,r,a=n(1),i=n(0),c=n.n(i),o=n(21),u=n.n(o),l=n(11),p=n(6),d=n(61),b=n(42),h=n(62),f=n(39),m=n(37),j=function e(t){try{return new URL(t)}catch(n){return!t||t.startsWith("http://")||t.startsWith("https://")?null:e("https://".concat(t))}},y=function(e){var t=j(e);return!!t&&t.searchParams.has("list")},O=function(e){var t=j(e);return t?t.searchParams.get("list"):null},g=(n(80),function(e){var t=e.url,n=e.setUrl,s=Object(i.useState)(t),r=Object(b.a)(s,2),c=r[0],o=r[1],u=Object(i.useState)(!0),l=Object(b.a)(u,2),p=l[0],d=l[1],j=function(){n(c),d(!0),setTimeout((function(){d(!1)}),3e3)};return Object(i.useEffect)((function(){y(c)?d(!1):d(!0)}),[t,c]),Object(a.jsxs)("div",{id:"header",children:[Object(a.jsx)("input",{id:"url",type:"text",value:c,onChange:function(e){o(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&j()},placeholder:"Playlist URL"}),Object(a.jsx)("button",{id:"search",type:"button",disabled:p,onClick:j,children:Object(a.jsx)(m.a,{icon:t===c?f.a:f.b})}),Object(a.jsx)("a",{id:"github",href:"https://github.com/utkarshgupta137/youtube-playlist-manager",rel:"noreferrer",target:"_blank",children:Object(a.jsx)(m.a,{icon:h.a})})]})}),v=n(9),I=Object(v.b)({name:"header",initialState:{url:"https://www.youtube.com/playlist?list=PLZHQObOWTQDOcxqQ36Vow3TdTRjkdSvT-"},reducers:{updateUrl:function(e,t){e.url=t.payload.url}}}),x=I.actions.updateUrl,w=I.reducer,k=n(63),T=n.n(k),P=n(10),L=n(64),A=n(40),H=(n(153),function(e){var t=e.columns,n=e.data,s=e.hasMore,r=e.next,i=Object(A.useTable)({columns:t,data:n},A.useGridLayout),c=i.getTableProps,o=i.headerGroups,u=i.rows,l=i.prepareRow;return Object(a.jsx)(L.a,{dataLength:u.length,hasMore:s,next:r,loader:Object(a.jsx)("div",{id:"loader",children:"Loading..."}),children:Object(a.jsxs)("div",Object(P.a)(Object(P.a)({},c()),{},{className:"table",children:[o.map((function(e){return e.headers.map((function(e){return console.log(e),Object(a.jsx)("div",Object(P.a)(Object(P.a)({},e.getHeaderProps()),{},{className:"header",children:e.render("Header")}),e.id)}))})),u.map((function(e){return l(e)||e.cells.map((function(e){return console.log(e),Object(a.jsx)("div",Object(P.a)(Object(P.a)({},e.getCellProps()),{},{className:"cell",children:e.render("Cell")}))}))}))]}))})}),S=(n(154),function(e){var t=e.playlistItemsList,n=e.hasMore,s=e.next,r=Object(i.useMemo)((function(){return[{Header:"Position",accessor:"snippet.position"},{Header:"Added by",accessor:"snippet.channelTitle"},{Header:"Added on",accessor:"snippet.publishedAt"},{Header:"Title",accessor:"video.snippet.title"},{Header:"Channel Title",accessor:"video.snippet.channelTitle"},{Header:"Published on",accessor:"video.snippet.publishedAt"},{Header:"Duration",accessor:"video.contentDetails.duration"}]}),[]),c=Object(i.useMemo)((function(){return T()(t).map((function(e){return e.snippet.position+=1,e.snippet.publishedAt=e.snippet.publishedAt.substring(0,10),e.video&&(e.video.snippet.publishedAt=e.video.snippet.publishedAt.substring(0,10),e.video.contentDetails.duration=e.video.contentDetails.duration.replace("P","").replace("T","").toLowerCase()),e}))}),[t]);return Object(a.jsx)("div",{id:"playlistItems",children:Object(a.jsx)(H,{columns:r,data:c,hasMore:n,next:s})})}),C=n(3),E=n.n(C),D=n(7),M=n(41),U=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],V="https://www.googleapis.com/auth/youtube.readonly";function R(){return r=s.currentUser.get(),r.hasGrantedScopes(V)}function B(e,t){return G.apply(this,arguments)}function G(){return(G=Object(D.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gapi.client.youtube.playlistItems.list({part:["snippet"],maxResults:50,playlistId:t,pageToken:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){return N.apply(this,arguments)}function N(){return(N=Object(D.a)(E.a.mark((function e(t,n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gapi.client.youtube.videos.list({part:["snippet,contentDetails,statistics"],maxResults:50,id:t,pageToken:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F={playlistItemsList:[],playlistItemsError:{},playlistItemsToken:""},Q=Object(v.b)({name:"playlistItems",initialState:F,reducers:{listPlaylistItemsSuccess:function(e,t){e.playlistItemsError=F.playlistItemsError,e.playlistItemsList=t.payload.playlistItemsList,e.playlistItemsToken=t.payload.playlistItemsToken},listPlaylistItemsFailed:function(e,t){e.playlistItemsError=t.payload}}}),W=Q.actions,q=W.listPlaylistItemsSuccess,z=W.listPlaylistItemsFailed,K=function(e,t){return function(){var n=Object(D.a)(E.a.mark((function n(s){return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:B(e,t).then((function(e){var t;return s((t=e.result,function(){var e=Object(D.a)(E.a.mark((function e(n,s){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(t.items.map((function(e){return e.snippet.resourceId.videoId}))).then((function(e){if(t.items.forEach((function(t,n){t.video=e.result.items[n]})),t.prevPageToken){var r=s().playlistItemsView.playlistItemsList;t.items=r.concat(t.items)}return n(q({playlistItemsList:t.items,playlistItemsToken:t.nextPageToken})),!0})).catch((function(e){n(z(e))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),!0})).catch((function(e){s(z(e))}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},X=Q.reducer,Y=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.headerView})).url,n=Object(l.c)((function(e){return e.playlistItemsView})),s=n.playlistItemsList,r=n.playlistItemsToken,c=Object(i.useCallback)((function(t){y(t)&&(e(x({url:t})),e(K(O(t))))}),[e]),o=Object(i.useCallback)((function(){e(K(O(t),r))}),[t,r,e]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g,{url:t,setUrl:c}),y(t)&&s.length>0&&Object(a.jsx)(S,{playlistItemsList:s,hasMore:!!r,next:o})]})},Z=n(4),_=n(65),$=n.n(_),ee=Object(Z.c)({headerView:w,playlistItemsView:X}),te={key:"root",version:1,storage:$.a},ne=Object(p.g)(te,ee),se=Object(v.a)({reducer:ne,middleware:Object(v.c)({serializableCheck:{ignoredActions:[p.a,p.f,p.b,p.c,p.d,p.e]}})}),re=(n(157),Object(p.h)(se));(gapi.load("client:auth2",(function(){return gapi.client.init({apiKey:M.a,clientId:M.b,discoveryDocs:U,scope:V}).then((function(){return(s=gapi.auth2.getAuthInstance()).isSignedIn.listen(R),R()}))})),new Promise((function e(t){return gapi.client&&gapi.client.youtube?t():setTimeout((function(){return e(t)}),100)}))).then((function(){return u.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(l.a,{store:se,children:Object(a.jsx)(d.a,{persistor:re,children:Object(a.jsx)(Y,{})})})}),document.getElementById("root")),!0})).catch((function(){return!1}))},41:function(e){e.exports=JSON.parse('{"a":"AIzaSyBPouCHA4aUoTIhHBEVYaha9BGObJbeX8E","b":"254479881953-0scmhf7q4rmcnp61pa1pd83es2g1e3ui.apps.googleusercontent.com"}')},80:function(e,t,n){}},[[158,1,2]]]);
//# sourceMappingURL=main.6b38c7ae.chunk.js.map