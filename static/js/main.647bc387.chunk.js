(this["webpackJsonpyoutube-playlist-manager"]=this["webpackJsonpyoutube-playlist-manager"]||[]).push([[0],{147:function(e,t,n){},148:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){},154:function(e,t,n){},157:function(e,t,n){},158:function(e,t,n){"use strict";n.r(t);var s,a,r=n(1),i=n(0),c=n.n(i),l=n(23),o=n.n(l),u=n(9),p=n(62),d=n(12),h=n.n(d),b=n(11),f=n(63),y=n(40),m=(n(147),function(e){var t=e.columns,n=e.data,s=e.hasMore,a=e.next,i=Object(y.useTable)({columns:t,data:n},y.useGridLayout),c=i.getTableProps,l=i.headerGroups,o=i.rows,u=i.prepareRow;return Object(r.jsx)(f.a,{dataLength:o.length,hasMore:s,next:a,loader:Object(r.jsx)("div",{id:"loader",children:"Loading..."}),children:Object(r.jsxs)("div",Object(b.a)(Object(b.a)({},c()),{},{className:"table",children:[l.map((function(e){return e.headers.map((function(e){return Object(r.jsx)("div",Object(b.a)(Object(b.a)({},e.getHeaderProps()),{},{className:"header",children:e.render("Header")}),e.id)}))})),o.map((function(e){return u(e)||e.cells.map((function(e){return Object(r.jsx)("div",Object(b.a)(Object(b.a)({},e.getCellProps()),{},{className:"cell",children:e.render("Cell")}))}))}))]}))})}),j=(n(148),function(e){var t=e.channelsList,n=e.hasMore,s=e.next,a=Object(i.useMemo)((function(){return[{Header:"Channel title",accessor:"snippet.title"},{Header:"Created on",accessor:"snippet.publishedAt"},{Header:"Description",accessor:"snippet.description"},{Header:"Videos",accessor:"statistics.videoCount"}]}),[]),c=Object(i.useMemo)((function(){return h()(t).map((function(e){return e.snippet.publishedAt=e.snippet.publishedAt.substring(0,10),e}))}),[t]);return Object(r.jsx)("div",{id:"channelsView",children:Object(r.jsx)(m,{columns:a,data:c,hasMore:n,next:s})})}),x=n(3),O=n.n(x),v=n(5),g=n(7),w=n(41),k=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],I="https://www.googleapis.com/auth/youtube.readonly",L=!1,T=function(){return L?a:s.signIn()},P=function(){var e=Object(v.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mine"!==t){e.next=4;break}return e.next=3,T();case 3:return e.abrupt("return",gapi.client.youtube.channels.list({part:["snippet,contentDetails,statistics"],maxResults:50,mine:!0,pageToken:n}));case 4:return e.abrupt("return",gapi.client.youtube.channels.list({part:["snippet,contentDetails,statistics"],maxResults:50,id:t,pageToken:n}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C={channelId:function(){var e=Object(v.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mine"!==t){e.next=4;break}return e.next=3,T();case 3:return e.abrupt("return",gapi.client.youtube.playlists.list({part:["snippet,contentDetails"],maxResults:50,mine:!0,pageToken:n}));case 4:return e.abrupt("return",gapi.client.youtube.playlists.list({part:["snippet,contentDetails"],maxResults:50,channelId:t,pageToken:n}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),playlistId:function(e,t){return gapi.client.youtube.playlists.list({part:["snippet,contentDetails"],maxResults:50,id:e,pageToken:t})}},H=function(e,t){return gapi.client.youtube.playlistItems.list({part:["snippet"],maxResults:50,playlistId:e,pageToken:t})},E={channelsList:[],channelsToken:"",channelsError:{}},M=Object(g.b)({name:"channels",initialState:E,reducers:{listChannelsSuccess:function(e,t){e.channelsError=E.channelsError,t.payload.prevPageToken?e.channelsList=e.channelsList.concat(t.payload.items):e.channelsList=t.payload.items,e.channelsToken=t.payload.nextPageToken},listChannelsFailed:function(e,t){e.channelsError=t.payload}}}),S=M.actions,A=S.listChannelsSuccess,D=S.listChannelsFailed,V=M.reducer,R=n(44),F=n(64),U=n(43),z=n(42),N=function e(t){try{return new URL(t)}catch(n){return!t||t.startsWith("http://")||t.startsWith("https://")?null:e("https://".concat(t))}},G=new RegExp(/^\/channel\/([\w-]+)$/),J=function(e){var t=N(e);return!!t&&G.test(t.pathname)},K=function(e){var t=N(e);return t?G.exec(t.pathname)[1]:null},B=function(e){var t=N(e);return!!t&&t.searchParams.has("list")},W=function(e){var t=N(e);return t?t.searchParams.get("list"):null},Z=(n(152),function(e){var t=e.url,n=e.setUrl,s=Object(i.useState)(t),a=Object(R.a)(s,2),c=a[0],l=a[1],o=Object(i.useState)(!0),u=Object(R.a)(o,2),p=u[0],d=u[1],h=function(){n(c),d(!0),setTimeout((function(){d(!1)}),3e3)};return Object(i.useEffect)((function(){J(c)||B(c)?d(!1):d(!0)}),[t,c]),Object(r.jsxs)("div",{id:"headerView",children:[Object(r.jsx)("input",{id:"url",type:"text",value:c,onChange:function(e){l(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&h()},placeholder:"Channel or Playlist URL"}),Object(r.jsx)("button",{id:"search",type:"button",disabled:p,onClick:h,children:Object(r.jsx)(z.a,{icon:t===c?U.a:U.b})}),Object(r.jsx)("a",{id:"github",href:"https://github.com/utkarshgupta137/youtube-playlist-manager",rel:"noreferrer",target:"_blank",children:Object(r.jsx)(z.a,{icon:F.a})})]})}),q=Object(g.b)({name:"header",initialState:{url:"https://www.youtube.com/channel/mine"},reducers:{updateUrl:function(e,t){e.url=t.payload.url}}}),Y=q.actions.updateUrl,$=q.reducer,_=(n(153),function(e){var t=e.playlistItemsList,n=e.hasMore,s=e.next,a=Object(i.useMemo)((function(){return[{Header:"Position",accessor:"snippet.position"},{Header:"Added by",accessor:"snippet.channelTitle"},{Header:"Added on",accessor:"snippet.publishedAt"},{Header:"Video title",accessor:"video.snippet.title"},{Header:"Channel title",accessor:"video.snippet.channelTitle"},{Header:"Published on",accessor:"video.snippet.publishedAt"},{Header:"Duration",accessor:"video.contentDetails.duration"}]}),[]),c=Object(i.useMemo)((function(){return h()(t).map((function(e){return e.snippet.position+=1,e.snippet.publishedAt=e.snippet.publishedAt.substring(0,10),e.video&&(e.video.snippet.publishedAt=e.video.snippet.publishedAt.substring(0,10),e.video.contentDetails.duration=e.video.contentDetails.duration.replace("P","").replace("T","").toLowerCase()),e}))}),[t]);return Object(r.jsx)("div",{id:"playlistItemsView",children:Object(r.jsx)(m,{columns:a,data:c,hasMore:n,next:s})})}),Q={playlistItemsList:[],playlistItemsToken:"",playlistItemsError:{}},X=Object(g.b)({name:"playlistItems",initialState:Q,reducers:{listPlaylistItemsSuccess:function(e,t){e.playlistItemsError=Q.playlistItemsError,t.payload.prevPageToken?e.playlistItemsList=e.playlistItemsList.concat(t.payload.items):e.playlistItemsList=t.payload.items,e.playlistItemsToken=t.payload.nextPageToken},listPlaylistItemsFailed:function(e,t){e.playlistItemsError=t.payload}}}),ee=X.actions,te=ee.listPlaylistItemsSuccess,ne=ee.listPlaylistItemsFailed,se=function(e){return function(){var t=Object(v.a)(O.a.mark((function t(n){var s,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.items.map((function(e){return e.snippet.resourceId.videoId})),t.next=3,r=s,i=void 0,gapi.client.youtube.videos.list({part:["snippet,contentDetails,statistics"],maxResults:50,id:r,pageToken:i});case 3:(a=t.sent).result.items?(e.items.forEach((function(e,t){e.video=a.result.items[t]})),n(te(e))):n(ne(a));case 5:case"end":return t.stop()}var r,i}),t)})));return function(e){return t.apply(this,arguments)}}()},ae=function(e,t){return function(){var n=Object(v.a)(O.a.mark((function n(s){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H(e,t);case 2:(a=n.sent).result.items?s(se(a.result)):s(ne(a));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},re=X.reducer,ie=(n(154),function(e){var t=e.playlistsList,n=e.hasMore,s=e.next,a=Object(i.useMemo)((function(){return[{Header:"Created by",accessor:"snippet.channelTitle"},{Header:"Published on",accessor:"snippet.publishedAt"},{Header:"Playlist title",accessor:"snippet.title"},{Header:"Description",accessor:"snippet.description"},{Header:"Videos",accessor:"contentDetails.itemCount"}]}),[]),c=Object(i.useMemo)((function(){return h()(t).map((function(e){return e.snippet.publishedAt=e.snippet.publishedAt.substring(0,10),e}))}),[t]);return Object(r.jsx)("div",{id:"playlistsView",children:Object(r.jsx)(m,{columns:a,data:c,hasMore:n,next:s})})}),ce={playlistsList:[],playlistsToken:"",playlistsError:{}},le=Object(g.b)({name:"playlists",initialState:ce,reducers:{listPlaylistsSuccess:function(e,t){e.playlistsError=ce.playlistsError,t.payload.prevPageToken?e.playlistsList=e.playlistsList.concat(t.payload.items):e.playlistsList=t.payload.items,e.playlistsToken=t.payload.nextPageToken},listPlaylistsFailed:function(e,t){e.playlistsError=t.payload}}}),oe=le.actions,ue=oe.listPlaylistsSuccess,pe=oe.listPlaylistsFailed,de=function(e,t){return function(){var n=Object(v.a)(O.a.mark((function n(s){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.channelId(e,t);case 2:(a=n.sent).result.items?s(ue(a.result)):s(pe(a));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},he=function(e,t){return function(){var n=Object(v.a)(O.a.mark((function n(s){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.playlistId(e,t);case 2:(a=n.sent).result.items?s(ue(a.result)):s(pe(a));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},be=le.reducer,fe=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.headerView})).url,n=Object(u.c)((function(e){return e.channelsView})).channelsList,s=Object(u.c)((function(e){return e.playlistsView})),a=s.playlistsList,c=s.playlistsToken,l=Object(u.c)((function(e){return e.playlistItemsView})),o=l.playlistItemsList,p=l.playlistItemsToken,d=Object(i.useCallback)((function(t){var n,s;J(t)?(e(Y({url:t})),e((n=K(t),function(){var e=Object(v.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(n,s);case 2:(a=e.sent).result.items?t(A(a.result)):t(D(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e(de(K(t)))):B(t)&&(e(Y({url:t})),e(he(W(t))),e(ae(W(t))))}),[e]),h=Object(i.useCallback)((function(){e(de(K(t),c))}),[t,c,e]),b=Object(i.useCallback)((function(){e(ae(W(t),p))}),[t,p,e]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Z,{url:t,setUrl:d}),n.length>0&&J(t)&&Object(r.jsx)(j,{channelsList:n,hasMore:!1,next:function(){}}),a.length>0&&Object(r.jsx)(ie,{playlistsList:a,hasMore:!!c,next:h}),o.length>0&&B(t)&&Object(r.jsx)(_,{playlistItemsList:o,hasMore:!!p,next:b})]})},ye=n(4),me=n(8),je=n(65),xe=n.n(je),Oe=Object(ye.c)({channelsView:V,headerView:$,playlistItemsView:re,playlistsView:be}),ve={key:"root",version:1,storage:xe.a},ge=Object(me.g)(ve,Oe),we=Object(g.a)({reducer:ge,middleware:function(e){return e({serializableCheck:{ignoredActions:[me.a,me.b,me.c,me.d,me.e,me.f]}})}}),ke=Object(me.h)(we),Ie=we;n(157);gapi.load("client:auth2",Object(v.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gapi.client.init({apiKey:w.a,clientId:w.b,discoveryDocs:k,scope:I});case 2:s=gapi.auth2.getAuthInstance(),t=function(){a=s.currentUser.get(),L=a.hasGrantedScopes(I)},s.isSignedIn.listen(t),t();case 6:case"end":return e.stop()}}),e)})))),o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(u.a,{store:Ie,children:Object(r.jsx)(p.a,{persistor:ke,children:Object(r.jsx)(fe,{})})})}),document.getElementById("root"))},41:function(e){e.exports=JSON.parse('{"a":"AIzaSyB4KEnndgC7iH8oDYSlZhZLzjyys2zHvjk","b":"254479881953-0scmhf7q4rmcnp61pa1pd83es2g1e3ui.apps.googleusercontent.com"}')}},[[158,1,2]]]);
//# sourceMappingURL=main.647bc387.chunk.js.map