(this["webpackJsonpyoutube-playlist-manager"]=this["webpackJsonpyoutube-playlist-manager"]||[]).push([[0],{165:function(t,e,n){},166:function(t,e,n){},169:function(t,e,n){},171:function(t,e,n){"use strict";n.r(e);var s,r,i=n(3),a=n(0),c=n.n(a),o=n(32),u=n.n(o),l=n(21),p=n(13),d=n(69),b=n(195),m=n(18),h=n(70),j=n.n(h),f=function t(e){try{return new URL(e)}catch(n){return!e||e.startsWith("http://")||e.startsWith("https://")?null:t("https://".concat(e))}},y=function(t){var e=f(t);return!!e&&e.searchParams.has("list")},O=(n(88),function(t){var e=t.url,n=t.setUrl,s=Object(a.useState)(e),r=Object(m.a)(s,2),c=r[0],o=r[1],u=!0;return y(c)&&(u=!1),Object(i.jsxs)("div",{id:"header",children:[Object(i.jsx)("input",{id:"url",type:"text",value:c,onChange:function(t){o(t.target.value)},placeholder:"Playlist URL"}),Object(i.jsx)("button",{id:"search",type:"button",disabled:u,onClick:function(){n(c)},children:Object(i.jsx)(j.a,{})})]})}),I=n(20),v=Object(I.b)({name:"header",initialState:{url:"youtube.com/channel/mine"},reducers:{updateUrl:function(t,e){t.url=e.payload.url}}}),g=v.actions.updateUrl,x=v.reducer,w=n(71),k=n.n(w),P=n(11),C=n(190),H=n(194),T=n(193),L=n(191),E=n(192),A=n(72),S=(n(165),function(t){var e=t.columns,n=t.data,s=Object(A.useTable)({columns:e,data:n}),r=s.getTableProps,a=s.headerGroups,c=s.rows,o=s.prepareRow;return Object(i.jsxs)(C.a,Object(P.a)(Object(P.a)({},r()),{},{children:[Object(i.jsx)(L.a,{children:a.map((function(t){return Object(i.jsx)(E.a,Object(P.a)(Object(P.a)({},t.getHeaderGroupProps()),{},{children:t.headers.map((function(t){return Object(i.jsx)(T.a,Object(P.a)(Object(P.a)({},t.getHeaderProps()),{},{children:t.render("Header")}))}))}))}))}),Object(i.jsx)(H.a,{children:c.map((function(t){return o(t),Object(i.jsx)(E.a,Object(P.a)(Object(P.a)({},t.getRowProps()),{},{children:t.cells.map((function(t){return Object(i.jsx)(T.a,Object(P.a)(Object(P.a)({},t.getCellProps()),{},{children:t.render("Cell")}))}))}))}))})]}))}),U=(n(166),function(t){var e=t.playlistItemsList,n=Object(a.useMemo)((function(){return[{Header:"Playlist Info",columns:[{Header:"Position",accessor:"snippet.position"},{Header:"Added",accessor:"snippet.publishedAt"}]},{Header:"Video Info",columns:[{Header:"Title",accessor:"video.snippet.title"},{Header:"Channel Title",accessor:"snippet.channelTitle"},{Header:"Duration",accessor:"video.contentDetails.duration"},{Header:"Published",accessor:"video.snippet.publishedAt"}]},{Header:"Video Statistics",columns:[{Header:"View Count",accessor:"video.statistics.viewCount"},{Header:"Like Count",accessor:"video.statistics.likeCount"},{Header:"Dislike Count",accessor:"video.statistics.dislikeCount"},{Header:"Comment Count",accessor:"video.statistics.commentCount"}]}]}),[]),s=Object(a.useMemo)((function(){return k()(e).map((function(t){return t.snippet.position+=1,t.snippet.publishedAt=t.snippet.publishedAt.substring(0,10),t.video&&(t.video.snippet.publishedAt=t.video.snippet.publishedAt.substring(0,10),t.video.contentDetails.duration=t.video.contentDetails.duration.replace("P","").replace("T","").toLowerCase()),t}))}),[e]);return Object(i.jsx)("div",{id:"playlistItems",children:Object(i.jsx)(S,{columns:n,data:s})})}),V=n(5),D=n.n(V),R=n(15),B=n(49),G=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],J="https://www.googleapis.com/auth/youtube.readonly";function F(){return r=s.currentUser.get(),r.hasGrantedScopes(J)}function M(t,e){return z.apply(this,arguments)}function z(){return(z=Object(R.a)(D.a.mark((function t(e,n){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gapi.client.youtube.playlistItems.list({part:["snippet"],maxResults:50,playlistId:e,pageToken:n}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(t,e){return q.apply(this,arguments)}function q(){return(q=Object(R.a)(D.a.mark((function t(e,n){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gapi.client.youtube.videos.list({part:["snippet,contentDetails,statistics,status"],maxResults:50,id:e,pageToken:n}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var K={playlistItemsList:[],playlistItemsError:{},playlistItemsToken:""},N=Object(I.b)({name:"playlistItems",initialState:K,reducers:{listPlaylistItemsSuccess:function(t,e){t.playlistItemsError=K.playlistItemsError,t.playlistItemsList=e.payload.playlistItemsList,t.playlistItemsToken=e.payload.playlistItemsToken},listPlaylistItemsFailed:function(t,e){t.playlistItemsList=K.playlistItemsList,t.playlistItemsToken=K.playlistItemsToken,t.playlistItemsError=e.payload.playlistItemsError}}}),X=N.actions,Y=X.listPlaylistItemsSuccess,Q=X.listPlaylistItemsFailed,Z=N.reducer,$=function(){var t,e=Object(l.b)(),n=Object(l.c)((function(t){return t.headerView})).url,s=Object(l.c)((function(t){return t.playlistItemsView})).playlistItemsList,r=Object(a.useCallback)((function(t){y(t)&&e(g({url:t}))}),[e]);return Object(a.useEffect)((function(){var t;y(n)&&e((t=function(t){var e=f(t);return e?e.searchParams.get("list"):null}(n),function(){var e=Object(R.a)(D.a.mark((function e(n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(t).then((function(t){return n((e=t.result,function(){var t=Object(R.a)(D.a.mark((function t(n){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W(e.items.map((function(t){return t.snippet.resourceId.videoId}))).then((function(t){return e.items.forEach((function(e,n){e.video=t.result.items[n]})),n(Y({playlistItemsList:e.items,playlistItemsToken:e.nextPageToken}))})).catch((function(t){return n(Q({playlistItemsError:t}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e})).catch((function(t){return n(Q({playlistItemsError:t}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[n,e]),y(n)&&s.length>0&&(t=Object(i.jsx)(U,{playlistItemsList:s})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b.a,{}),Object(i.jsx)(O,{url:n,setUrl:r}),t]})},_=n(6),tt=n(73),et=n.n(tt),nt=Object(_.c)({headerView:x,playlistItemsView:Z}),st={key:"root",version:1,storage:et.a},rt=Object(p.g)(st,nt),it=Object(I.a)({reducer:rt,middleware:Object(I.c)({serializableCheck:{ignoredActions:[p.a,p.f,p.b,p.c,p.d,p.e]}})}),at=(n(169),Object(p.h)(it));(gapi.load("client:auth2",(function(){return gapi.client.init({apiKey:B.a,clientId:B.b,discoveryDocs:G,scope:J}).then((function(){return(s=gapi.auth2.getAuthInstance()).isSignedIn.listen(F),F()}))})),new Promise((function t(e){return gapi.client&&gapi.client.youtube?e():setTimeout((function(){return t(e)}),100)}))).then((function(){return u.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(l.a,{store:it,children:Object(i.jsx)(d.a,{persistor:at,children:Object(i.jsx)($,{})})})}),document.getElementById("root")),!0})).catch((function(){return!1}))},49:function(t){t.exports=JSON.parse('{"a":"AIzaSyBPouCHA4aUoTIhHBEVYaha9BGObJbeX8E","b":"254479881953-0scmhf7q4rmcnp61pa1pd83es2g1e3ui.apps.googleusercontent.com"}')},88:function(t,e,n){}},[[171,1,2]]]);
//# sourceMappingURL=main.341cbd95.chunk.js.map