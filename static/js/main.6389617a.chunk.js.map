{"version":3,"sources":["api/apiHandler.js","utils/urlUtils.js","components/Header/HeaderView.jsx","components/Table/Table.jsx","components/Channels/ChannelsView.jsx","components/Playlists/PlaylistsView.jsx","containers/Channels/ChannelsPage.jsx","containers/Channels/channelsHooks.js","components/IndeterminateCheckbox.jsx","components/PlaylistItems/PlaylistItemsView.jsx","hooks/useButtonToast/useButtonToast.jsx","containers/Playlists/PlaylistsPage.jsx","containers/Playlists/playlistsHooks.js","App.jsx","index.jsx"],"names":["googleAuth","googleUser","discoveryDocs","scope","isAuthorized","toggleUser","signOut","signIn","listChannels","id","pageToken","gapi","client","youtube","channels","list","part","maxResults","mine","listPlaylists","channelId","playlists","listPlaylistItems","playlistId","playlistItems","listVideos","videos","maxHeight","deletePlaylistItems","delete","getURLObj","url","startsWith","URL","e","channelRegExp","RegExp","getChannelId","memoize","urlObj","test","pathname","exec","getPlaylistId","searchParams","has","get","HeaderView","user","history","useHistory","useState","currentUrl","setCurrentUrl","searchDisabled","setSearchDisabled","onSearchButtonClicked","push","userPopout","useMemo","userInfo","src","image","alt","name","email","type","onClick","icon","faSignOutAlt","faSignInAlt","href","rel","target","faGithub","value","onChange","onKeyDown","event","key","placeholder","disabled","faSearch","placement","trigger","overlay","faUserCircle","Table","columns","data","hasMore","next","renderExpanded","setSelectedRowIds","useTable","autoResetGroupBy","autoResetSortBy","autoResetExpanded","autoResetSelectedRows","defaultColumn","disableGroupBy","getRowId","useCallback","row","aggregations","firstLast","leafValues","values","sort","length","slice","isMultiSortEvent","orderByFn","arr","funcs","dirs","defaultOrderByFn","reverse","useGridLayout","useGroupBy","useSortBy","useExpanded","useRowSelect","hooks","getTableProps","props","instance","style","display","gridTemplateColumns","visibleColumns","map","column","index","allColumns","findIndex","col","width","state","gridLayout","columnWidths","join","getRowProps","isExpanded","gridColumn","cells","getToggleAllRowsSelectedProps","toggleAllRowsSelected","checked","cursor","isAllRowsSelected","title","indeterminate","Boolean","initialRows","some","selectedRowIds","prepareRow","headerGroups","rows","useEffect","Object","keys","dataLength","loader","className","headerGroup","headers","getHeaderProps","render","canSort","getSortByToggleProps","isSorted","isSortedDesc","faSortDown","faSortUp","faSort","pull","marginTop","canGroupBy","getGroupByToggleProps","faLayerGroup","color","isGrouped","cell","getCellProps","subRows","isAggregated","isPlaceholder","defaultProps","ChannelsView","accessor","Header","Cell","original","substring","parseInt","toLocaleString","PlaylistsView","playlistsPage","cols","aggregate","Aggregated","to","snippet","disableSortBy","getToggleRowExpandedProps","faPlayCircle","rotation","dangerouslySetInnerHTML","__html","player","embedHtml","ChannelsPage","useParams","useQuery","a","response","result","items","error","Error","placeholderData","useListChannels","channelsList","useInfiniteQuery","pageParam","playlistsList","playlistsToken","nextPageToken","getNextPageParam","lastPage","select","concat","pages","page","useListPlaylists","hasNextPage","fetchNextPage","options","toastId","status","toast","message","dismiss","channel","i","IndeterminateCheckbox","forwardRef","ref","rest","defaultRef","useRef","resolvedRef","current","PlaylistItemsView","onDeleteButtonClicked","getToggleRowSelectedProps","position","video","toSeconds","parse","contentDetails","duration","hours","Math","floor","minutes","seconds","item","includes","faTrash","useButtonToast","onClose","isRepeatToast","isDismissOnClick","isDismissOnRepeat","showButtonToast","text","buttonText","dark","closeOnClick","PlaylistsPage","ids","playlistItem","resourceId","videoId","res","forEach","playlistItemsList","playlistItemsToken","useListPlaylistItems","mutate","timeoutId","queryClient","useQueryClient","queryKey","useMutation","playlistItemIds","Promise","all","playlistItemId","onMutate","variables","clearTimeout","cancelQueries","previousState","getQueryData","setQueryData","oldData","filter","onError","err","onSuccess","setTimeout","invalidateQueries","useDeletePlaylistItems","removedIds","setRemovedIds","playlist","App","ready","setReady","setUser","load","init","apiKey","clientId","auth2","getAuthInstance","updateAuthStatus","currentUser","hasGrantedScopes","profile","getBasicProfile","getName","getEmail","getImageUrl","isSignedIn","listen","initClient","autoClose","transition","Flip","pauseOnFocusLoss","pauseOnHover","path","QueryClient","setDefaultOptions","queries","staleTime","cacheTime","Infinity","refetchOnReconnect","refetchOnWindowFocus","retry","persistWithLocalStorage","maxAge","ReactDOM","StrictMode","basename","QueryClientProvider","document","getElementById"],"mappings":"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","file":"static/js/main.6389617a.chunk.js","sourcesContent":["import { apiKey, clientId } from \"./client_secrets.json\";\n\nconst discoveryDocs = [\n  \"https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest\",\n];\nconst scope = \"https://www.googleapis.com/auth/youtube\";\n\nlet googleAuth;\nlet googleUser;\nlet isAuthorized = false;\n\nconst toggleUser = () => {\n  if (isAuthorized) {\n    googleAuth.signOut();\n  } else {\n    googleAuth.signIn();\n  }\n};\n\nconst initClient = (setReady, setUser) => {\n  gapi.load(\"client:auth2\", async () => {\n    await gapi.client.init({\n      apiKey,\n      clientId,\n      discoveryDocs,\n      scope,\n    });\n    setReady(true);\n\n    googleAuth = gapi.auth2.getAuthInstance();\n    const updateAuthStatus = () => {\n      googleUser = googleAuth.currentUser.get();\n      isAuthorized = googleUser.hasGrantedScopes(scope);\n\n      const user = { isAuthorized };\n      if (isAuthorized) {\n        const profile = googleUser.getBasicProfile();\n        user.name = profile.getName();\n        user.email = profile.getEmail();\n        user.image = profile.getImageUrl();\n      }\n      setUser(user);\n    };\n\n    googleAuth.isSignedIn.listen(updateAuthStatus);\n    updateAuthStatus();\n  });\n};\n\nconst listChannels = {\n  channelId: (id, pageToken) => {\n    if (id === \"mine\") {\n      return gapi.client.youtube.channels.list({\n        part: [\"snippet,statistics\"],\n        maxResults: 50,\n        mine: true,\n        pageToken,\n      });\n    }\n\n    return gapi.client.youtube.channels.list({\n      part: [\"snippet,statistics\"],\n      maxResults: 50,\n      id,\n      pageToken,\n    });\n  },\n};\n\nconst listPlaylists = {\n  channelId: (channelId, pageToken) => {\n    if (channelId === \"mine\") {\n      return gapi.client.youtube.playlists.list({\n        part: [\"snippet,contentDetails,player\"],\n        maxResults: 50,\n        mine: true,\n        pageToken,\n      });\n    }\n\n    return gapi.client.youtube.playlists.list({\n      part: [\"snippet,contentDetails,player\"],\n      maxResults: 50,\n      channelId,\n      pageToken,\n    });\n  },\n\n  playlistId: (id, pageToken) => {\n    return gapi.client.youtube.playlists.list({\n      part: [\"snippet,contentDetails,player\"],\n      maxResults: 50,\n      id,\n      pageToken,\n    });\n  },\n};\n\nconst listPlaylistItems = {\n  playlistId: (playlistId, pageToken) => {\n    return gapi.client.youtube.playlistItems.list({\n      part: [\"snippet\"],\n      maxResults: 50,\n      playlistId,\n      pageToken,\n    });\n  },\n};\n\nconst listVideos = {\n  videoId: (id, pageToken) => {\n    return gapi.client.youtube.videos.list({\n      part: [\"snippet,contentDetails,statistics,player\"],\n      maxResults: 50,\n      id,\n      pageToken,\n      maxHeight: 480,\n    });\n  },\n};\n\nconst deletePlaylistItems = {\n  playlistItemId: (id) => {\n    return gapi.client.youtube.playlistItems.delete({\n      id,\n    });\n  },\n};\n\nexport {\n  toggleUser,\n  initClient,\n  listChannels,\n  listPlaylists,\n  listPlaylistItems,\n  listVideos,\n  deletePlaylistItems,\n};\n","import memoize from \"lodash/memoize\";\n\nconst getURLObj = (url) => {\n  try {\n    if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n      return new URL(url);\n    }\n    return new URL(`https://${url}`);\n  } catch (e) {}\n  return null;\n};\n\nconst channelRegExp = new RegExp(/^\\/channel\\/([\\w-]+)$/);\nconst getChannelId = memoize((url) => {\n  const urlObj = getURLObj(url);\n  if (channelRegExp.test(urlObj?.pathname)) {\n    return channelRegExp.exec(urlObj.pathname)[1];\n  }\n  return null;\n});\n\nconst getPlaylistId = memoize((url) => {\n  const urlObj = getURLObj(url);\n  if (urlObj?.searchParams.has(\"list\")) {\n    return urlObj.searchParams.get(\"list\");\n  }\n  return null;\n});\n\nconst getChannelUrl = (id) => {\n  return `https://www.youtube.com/channel/${id}`;\n};\n\nconst getPlaylistUrl = (id) => {\n  return `https://www.youtube.com/playlist?list=${id}`;\n};\n\nconst getPlaylistItemUrl = (id, playlistId, position) => {\n  return `https://www.youtube.com/watch?v=${id}&list=${playlistId}&index=${position}`;\n};\n\nconst getVideoUrl = (id) => {\n  return `https://www.youtube.com/watch?v=${id}`;\n};\n\nexport {\n  getChannelId,\n  getChannelUrl,\n  getPlaylistId,\n  getPlaylistUrl,\n  getPlaylistItemUrl,\n  getVideoUrl,\n};\n","import { faGithub } from \"@fortawesome/free-brands-svg-icons\";\nimport {\n  faSearch,\n  faSignInAlt,\n  faSignOutAlt,\n  faUserCircle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport PropTypes from \"prop-types\";\nimport Tooltip from \"rc-tooltip\";\nimport React, { useMemo, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { getChannelId, getPlaylistId } from \"../../utils/urlUtils\";\n\nimport \"./HeaderView.css\";\n\nconst HeaderView = ({ user, toggleUser }) => {\n  const history = useHistory();\n\n  const [currentUrl, setCurrentUrl] = useState(\"youtu.be/channel/mine\");\n  const [searchDisabled, setSearchDisabled] = useState(false);\n\n  const onCurrentUrlChanged = (e) => {\n    setCurrentUrl(e.target.value);\n    if (getChannelId(e.target.value) || getPlaylistId(e.target.value)) {\n      setSearchDisabled(false);\n    } else {\n      setSearchDisabled(true);\n    }\n  };\n\n  const onSearchButtonClicked = () => {\n    if (getChannelId(currentUrl)) {\n      history.push(`/channel/${getChannelId(currentUrl)}`);\n    } else if (getPlaylistId(currentUrl)) {\n      history.push(`/playlist/${getPlaylistId(currentUrl)}`);\n    }\n  };\n\n  const handleKeyDown = (event) => {\n    if (event.key === \"Enter\") {\n      onSearchButtonClicked();\n    }\n  };\n\n  const userPopout = useMemo(() => {\n    let userInfo;\n    if (user.isAuthorized) {\n      userInfo = (\n        <>\n          <img id=\"userImage\" src={user.image} alt=\"\" />\n          <span id=\"userName\">{user.name}</span>\n          <span id=\"userEmail\">{user.email}</span>\n        </>\n      );\n    } else {\n      userInfo = (\n        <>\n          <span id=\"signInPrompt\">\n            Sign in to access your\n            <br />\n            channel & private playlists.\n          </span>\n        </>\n      );\n    }\n\n    return (\n      <div id=\"userPopout\">\n        {userInfo}\n        <button id=\"toggleUser\" type=\"button\" onClick={toggleUser}>\n          <FontAwesomeIcon\n            icon={user.isAuthorized ? faSignOutAlt : faSignInAlt}\n          />\n        </button>\n      </div>\n    );\n  }, [user, toggleUser]);\n\n  return (\n    <div id=\"headerView\">\n      <a\n        id=\"github\"\n        href=\"https://github.com/utkarshgupta137/youtube-playlist-manager\"\n        rel=\"noreferrer\"\n        target=\"_blank\"\n      >\n        <FontAwesomeIcon icon={faGithub} />\n      </a>\n      <input\n        id=\"url\"\n        type=\"text\"\n        value={currentUrl}\n        onChange={onCurrentUrlChanged}\n        onKeyDown={handleKeyDown}\n        placeholder=\"Channel or Playlist URL\"\n      />\n      <button\n        id=\"search\"\n        type=\"button\"\n        disabled={searchDisabled}\n        onClick={onSearchButtonClicked}\n      >\n        <FontAwesomeIcon icon={faSearch} />\n      </button>\n      <Tooltip placement=\"left\" trigger=\"click\" overlay={userPopout}>\n        <button id=\"user\" type=\"button\">\n          <FontAwesomeIcon icon={faUserCircle} />\n        </button>\n      </Tooltip>\n    </div>\n  );\n};\n\nHeaderView.propTypes = {\n  user: PropTypes.shape({\n    isAuthorized: PropTypes.bool.isRequired,\n    name: PropTypes.string,\n    email: PropTypes.string,\n    image: PropTypes.string,\n  }).isRequired,\n  toggleUser: PropTypes.func.isRequired,\n};\n\nexport default HeaderView;\n","import {\n  faLayerGroup,\n  faSort,\n  faSortDown,\n  faSortUp,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport PropTypes from \"prop-types\";\nimport React, { useCallback, useEffect, useMemo } from \"react\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport {\n  defaultOrderByFn,\n  useExpanded,\n  useGridLayout,\n  useGroupBy,\n  useRowSelect,\n  useSortBy,\n  useTable,\n} from \"react-table\";\n\nimport \"./Table.css\";\n\nconst Table = ({\n  columns,\n  data,\n  hasMore,\n  next,\n  renderExpanded,\n  setSelectedRowIds,\n}) => {\n  const {\n    getTableProps,\n    prepareRow,\n    headerGroups,\n    rows,\n    state: { selectedRowIds },\n  } = useTable(\n    {\n      columns,\n      data,\n      autoResetGroupBy: false,\n      autoResetSortBy: false,\n      autoResetExpanded: false,\n      autoResetSelectedRows: false,\n      defaultColumn: {\n        disableGroupBy: true,\n      },\n      getRowId: useCallback((row) => {\n        return row.id;\n      }, []),\n      aggregations: useMemo(() => {\n        return {\n          firstLast: (leafValues) => {\n            const values = [...leafValues].sort();\n            if (values.length === 1) {\n              return values[0];\n            }\n            return `${values[0]}..${values.slice(-1)}`;\n          },\n        };\n      }, []),\n      isMultiSortEvent: useCallback(() => {\n        return true;\n      }, []),\n      orderByFn: useCallback((arr, funcs, dirs) => {\n        return defaultOrderByFn(arr, funcs.reverse(), dirs.reverse());\n      }, []),\n    },\n    useGridLayout,\n    useGroupBy,\n    useSortBy,\n    useExpanded,\n    useRowSelect,\n    useCallback((hooks) => {\n      hooks.getTableProps.push((props, { instance }) => {\n        const columnWidths = instance.visibleColumns.map((column) => {\n          const index = instance.allColumns.findIndex((col) => {\n            return col.id === column.id;\n          });\n          const width = instance.state.gridLayout.columnWidths[index];\n          if (width === `auto`) {\n            return column.width || `auto`;\n          }\n          return width;\n        });\n        return [\n          props,\n          {\n            style: {\n              display: `grid`,\n              gridTemplateColumns: columnWidths.join(` `),\n            },\n          },\n        ];\n      });\n      hooks.getRowProps.push((props, { row }) => {\n        if (row.isExpanded) {\n          return [\n            props,\n            {\n              style: {\n                gridColumn: `1 / ${row.cells.length + 1}`,\n              },\n            },\n          ];\n        }\n        return [props, {}];\n      });\n      hooks.getToggleAllRowsSelectedProps.push((props, { instance }) => {\n        return [\n          props,\n          {\n            onChange: (e) => {\n              instance.toggleAllRowsSelected(e.target.checked);\n            },\n            style: {\n              cursor: \"pointer\",\n            },\n            checked: instance.isAllRowsSelected,\n            title: \"Toggle All Rows Selected\",\n            indeterminate: Boolean(\n              !instance.isAllRowsSelected &&\n                instance.initialRows.some(({ id }) => {\n                  return instance.state.selectedRowIds[id];\n                })\n            ),\n          },\n        ];\n      });\n    }, [])\n  );\n\n  useEffect(() => {\n    setSelectedRowIds(Object.keys(selectedRowIds));\n  }, [setSelectedRowIds, selectedRowIds]);\n\n  return (\n    <InfiniteScroll\n      dataLength={rows.length}\n      hasMore={hasMore}\n      next={next}\n      loader={<div id=\"loader\">Loading...</div>}\n    >\n      <div {...getTableProps()} className=\"table\">\n        {headerGroups.map((headerGroup) => {\n          return headerGroup.headers.map((column) => {\n            return (\n              <div {...column.getHeaderProps()} className=\"header\">\n                {column.render(\"Header\")}\n                {column.canSort ? (\n                  <span {...column.getSortByToggleProps()}>\n                    <FontAwesomeIcon\n                      icon={\n                        column.isSorted\n                          ? column.isSortedDesc\n                            ? faSortDown\n                            : faSortUp\n                          : faSort\n                      }\n                      pull=\"right\"\n                      style={{ marginTop: \"0.1rem\" }}\n                    />\n                  </span>\n                ) : null}\n                {column.canGroupBy ? (\n                  <span {...column.getGroupByToggleProps()}>\n                    <FontAwesomeIcon\n                      icon={faLayerGroup}\n                      color={column.isGrouped ? \"#ff0000\" : null}\n                      pull=\"right\"\n                      style={{ marginTop: \"0.1rem\" }}\n                    />\n                  </span>\n                ) : null}\n              </div>\n            );\n          });\n        })}\n        {rows.map((row) => {\n          prepareRow(row);\n          return (\n            <>\n              {row.cells.map((cell) => {\n                return (\n                  <div {...cell.getCellProps()} className=\"cell\">\n                    {cell.isGrouped ? (\n                      <>\n                        {cell.render(\"Cell\")} ({row.subRows.length})\n                      </>\n                    ) : cell.isAggregated ? (\n                      cell.render(\"Aggregated\")\n                    ) : cell.isPlaceholder ? null : (\n                      cell.render(\"Cell\")\n                    )}\n                  </div>\n                );\n              })}\n              {row.isExpanded ? renderExpanded(row) : null}\n            </>\n          );\n        })}\n      </div>\n    </InfiniteScroll>\n  );\n};\n\nTable.propTypes = {\n  columns: PropTypes.arrayOf(PropTypes.object).isRequired,\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  hasMore: PropTypes.bool,\n  next: PropTypes.func,\n  renderExpanded: PropTypes.func,\n  setSelectedRowIds: PropTypes.func,\n};\n\nTable.defaultProps = {\n  hasMore: false,\n  next: () => {},\n  renderExpanded: () => {},\n  setSelectedRowIds: () => {},\n};\n\nexport default Table;\n","import PropTypes from \"prop-types\";\nimport React, { useMemo } from \"react\";\n\nimport { getChannelUrl } from \"../../utils/urlUtils\";\nimport Table from \"../Table/Table\";\n\nimport \"./ChannelsView.css\";\n\nconst ChannelsView = ({ data, hasMore, next }) => {\n  const columns = useMemo(() => {\n    return [\n      {\n        accessor: \"snippet.title\",\n        width: \"minmax(14rem, auto)\",\n        Header: \"Channel title\",\n        Cell: (e) => {\n          return (\n            <a\n              href={getChannelUrl(e.row.original.id)}\n              rel=\"noreferrer\"\n              target=\"_blank\"\n            >\n              {e.value}\n            </a>\n          );\n        },\n      },\n      {\n        accessor: \"snippet.publishedAt\",\n        width: \"minmax(8rem, min-content)\",\n        Header: \"Created on\",\n        Cell: (e) => {\n          return e.value.substring(0, 10);\n        },\n      },\n      {\n        accessor: \"snippet.description\",\n        width: \"minmax(28rem, auto)\",\n        Header: \"Description\",\n      },\n      {\n        accessor: \"statistics.viewCount\",\n        width: \"minmax(8rem, min-content)\",\n        Header: \"Views\",\n        Cell: (e) => {\n          return parseInt(e.value, 10).toLocaleString();\n        },\n      },\n      {\n        accessor: \"statistics.subscriberCount\",\n        width: \"minmax(8rem, min-content)\",\n        Header: \"Subscribers\",\n        Cell: (e) => {\n          return parseInt(e.value, 10).toLocaleString();\n        },\n      },\n      {\n        accessor: \"statistics.videoCount\",\n        width: \"6rem\",\n        Header: \"Videos\",\n      },\n    ];\n  }, []);\n\n  return (\n    <div id=\"channelsView\">\n      <Table columns={columns} data={data} hasMore={hasMore} next={next} />\n    </div>\n  );\n};\n\nChannelsView.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  hasMore: PropTypes.bool,\n  next: PropTypes.func,\n};\n\nChannelsView.defaultProps = {\n  hasMore: false,\n  next: () => {},\n};\n\nexport default ChannelsView;\n","import { faPlayCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport PropTypes from \"prop-types\";\nimport React, { useCallback, useMemo } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { getPlaylistUrl } from \"../../utils/urlUtils\";\nimport Table from \"../Table/Table\";\n\nimport \"./PlaylistsView.css\";\n\nconst PlaylistsView = ({ data, hasMore, next, playlistsPage }) => {\n  const columns = useMemo(() => {\n    const cols = [\n      {\n        accessor: \"snippet.channelTitle\",\n        aggregate: \"unique\",\n        disableGroupBy: false,\n        width: \"minmax(14rem, auto)\",\n        Header: \"Created by\",\n        Aggregated: (e) => {\n          return e.value.join(\", \");\n        },\n        Cell: (e) => {\n          const row = e.row.original || e.row.subRows[0].original;\n          return row && playlistsPage ? (\n            <Link to={`/channel/${row.snippet.channelId}`}>{e.value}</Link>\n          ) : (\n            e.value\n          );\n        },\n      },\n      {\n        accessor: \"snippet.publishedAt\",\n        aggregate: \"firstLast\",\n        width: \"minmax(8rem, min-content)\",\n        Header: \"Created on\",\n        Cell: (e) => {\n          return e.value.substring(0, 10);\n        },\n      },\n      {\n        accessor: \"snippet.title\",\n        width: \"minmax(24rem, auto)\",\n        Header: \"Playlist title\",\n        Cell: (e) => {\n          const row = e.row.original;\n          return row ? (\n            playlistsPage ? (\n              <a\n                href={getPlaylistUrl(e.row.original.id)}\n                rel=\"noreferrer\"\n                target=\"_blank\"\n              >\n                {e.value}\n              </a>\n            ) : (\n              <Link to={`/playlist/${e.row.original.id}`}>{e.value}</Link>\n            )\n          ) : (\n            e.value\n          );\n        },\n      },\n      {\n        accessor: \"snippet.description\",\n        width: `minmax(${playlistsPage ? \"18rem\" : \"32rem\"}, auto)`,\n        Header: \"Description\",\n      },\n      {\n        accessor: \"contentDetails.itemCount\",\n        aggregate: \"sum\",\n        width: \"6rem\",\n        Header: \"Videos\",\n      },\n      {\n        id: \"expander\",\n        disableSortBy: true,\n        width: \"2rem\",\n        Cell: (e) => {\n          return (\n            <span {...e.row.getToggleRowExpandedProps()}>\n              <FontAwesomeIcon\n                icon={faPlayCircle}\n                rotation={e.row.isExpanded ? 270 : 0}\n              />\n            </span>\n          );\n        },\n      },\n    ];\n    return playlistsPage ? cols : cols.slice(1);\n  }, [playlistsPage]);\n\n  const renderExpanded = useCallback((row) => {\n    return (\n      <div\n        className=\"row\"\n        dangerouslySetInnerHTML={{\n          __html: row.original.player.embedHtml,\n        }}\n        {...row.getRowProps()}\n      />\n    );\n  }, []);\n\n  return (\n    <div id=\"playlistsView\">\n      <Table\n        columns={columns}\n        data={data}\n        hasMore={hasMore}\n        next={next}\n        renderExpanded={renderExpanded}\n      />\n    </div>\n  );\n};\n\nPlaylistsView.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  hasMore: PropTypes.bool,\n  next: PropTypes.func,\n  playlistsPage: PropTypes.bool,\n};\n\nPlaylistsView.defaultProps = {\n  hasMore: false,\n  next: () => {},\n  playlistsPage: true,\n};\n\nexport default PlaylistsView;\n","import React, { useEffect } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nimport ChannelsView from \"../../components/Channels/ChannelsView\";\nimport PlaylistsView from \"../../components/Playlists/PlaylistsView\";\n\nimport { useListChannels, useListPlaylists } from \"./channelsHooks\";\n\nconst ChannelsPage = () => {\n  const { channelId } = useParams();\n  const { data: channelsList, error } = useListChannels(channelId);\n  const {\n    data: playlistsList,\n    hasNextPage: hasMore,\n    fetchNextPage: next,\n  } = useListPlaylists(channelId);\n\n  useEffect(() => {\n    const options = { toastId: \"ChannelsPage\" };\n    if (error?.response.status === 200) {\n      toast.error(\"Channel not found. Check the URL.\", options);\n    } else if (error?.response.status === 401) {\n      toast.error(\"You must sign in to access this channel.\", options);\n    } else if (error?.response.result) {\n      toast.error(error.response.result.error.message, options);\n    } else {\n      toast.dismiss();\n    }\n  }, [error]);\n\n  return (\n    <>\n      <Helmet>\n        <title>\n          {channelsList\n            ? channelsList.map((channel, i) => {\n                return `${i === 0 ? \"YPM | \" : \"\"}${channel.snippet.title}${\n                  i < channelsList.length - 1 ? \" | \" : \"\"\n                }`;\n              })\n            : \"YouTube Playlist Manager\"}\n        </title>\n      </Helmet>\n      <ChannelsView data={channelsList || []} />\n      <PlaylistsView\n        data={playlistsList}\n        hasMore={hasMore}\n        next={next}\n        playlistsPage={false}\n      />\n    </>\n  );\n};\n\nexport default ChannelsPage;\n","import { useInfiniteQuery, useQuery } from \"react-query\";\n\nimport { listChannels, listPlaylists } from \"../../api/apiHandler\";\n\nconst useListChannels = (channelId) => {\n  return useQuery(\n    [\"channels\", channelId],\n    async () => {\n      let response;\n      try {\n        response = await listChannels.channelId(channelId);\n\n        if (response.result.items?.length > 0) {\n          return response.result.items;\n        }\n      } catch (e) {\n        response = e;\n      }\n      const error = new Error();\n      error.response = response;\n      throw error;\n    },\n    {\n      placeholderData: [],\n    }\n  );\n};\n\nconst useListPlaylists = (channelId) => {\n  return useInfiniteQuery(\n    [\"playlists\", channelId],\n    async ({ pageParam: pageToken }) => {\n      try {\n        const response = await listPlaylists.channelId(channelId, pageToken);\n\n        return {\n          playlistsList: response.result.items,\n          playlistsToken: response.result.nextPageToken,\n        };\n      } catch (e) {}\n      return {};\n    },\n    {\n      placeholderData: [],\n      getNextPageParam: (lastPage) => {\n        return lastPage.playlistsToken;\n      },\n      select: (data) => {\n        return [].concat(\n          ...data.pages.map((page) => {\n            return page.playlistsList || [];\n          })\n        );\n      },\n    }\n  );\n};\n\nexport { useListChannels, useListPlaylists };\n","import PropTypes from \"prop-types\";\nimport React, { forwardRef, useEffect, useRef } from \"react\";\n\nconst IndeterminateCheckbox = forwardRef(({ indeterminate, ...rest }, ref) => {\n  const defaultRef = useRef();\n  const resolvedRef = ref || defaultRef;\n\n  useEffect(() => {\n    resolvedRef.current.indeterminate = indeterminate;\n  }, [resolvedRef, indeterminate]);\n\n  return <input type=\"checkbox\" ref={resolvedRef} {...rest} />;\n});\n\nIndeterminateCheckbox.propTypes = {\n  indeterminate: PropTypes.bool.isRequired,\n};\n\nexport default IndeterminateCheckbox;\n","import { faPlayCircle, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { parse, toSeconds } from \"iso8601-duration\";\nimport PropTypes from \"prop-types\";\nimport React, { useCallback, useMemo, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { getPlaylistItemUrl } from \"../../utils/urlUtils\";\nimport IndeterminateCheckbox from \"../IndeterminateCheckbox\";\nimport Table from \"../Table/Table\";\n\nimport \"./PlaylistItemsView.css\";\n\nconst PlaylistItemsView = ({ data, hasMore, next, onDeleteButtonClicked }) => {\n  const columns = useMemo(() => {\n    return [\n      {\n        id: \"selector\",\n        width: \"2rem\",\n        Header: (instance) => {\n          return (\n            <IndeterminateCheckbox\n              {...instance.getToggleAllRowsSelectedProps()}\n            />\n          );\n        },\n        Cell: (e) => {\n          return (\n            <IndeterminateCheckbox {...e.row.getToggleRowSelectedProps()} />\n          );\n        },\n      },\n      {\n        accessor: \"snippet.position\",\n        aggregate: \"minMax\",\n        width: \"4rem\",\n        Header: \"#\",\n        Cell: (e) => {\n          return e.value + 1;\n        },\n      },\n      {\n        accessor: \"snippet.channelTitle\",\n        aggregate: \"unique\",\n        disableGroupBy: false,\n        width: \"minmax(8rem, auto)\",\n        Header: \"Added by\",\n        Aggregated: (e) => {\n          return e.value.join(\", \");\n        },\n      },\n      {\n        accessor: \"snippet.publishedAt\",\n        aggregate: \"firstLast\",\n        width: \"minmax(8rem, min-content)\",\n        Header: \"Added on\",\n        Cell: (e) => {\n          return e.value.substring(0, 10);\n        },\n      },\n      {\n        accessor: \"video.snippet.title\",\n        width: \"minmax(24rem, auto)\",\n        Header: \"Video title\",\n        Cell: (e) => {\n          const row = e.row.original;\n          return row ? (\n            <a\n              href={getPlaylistItemUrl(\n                row.video.id,\n                row.snippet.playlistId,\n                row.snippet.position\n              )}\n              rel=\"noreferrer\"\n              target=\"_blank\"\n            >\n              {e.value}\n            </a>\n          ) : (\n            e.value\n          );\n        },\n      },\n      {\n        accessor: \"video.snippet.channelTitle\",\n        aggregate: \"unique\",\n        disableGroupBy: false,\n        width: \"minmax(10rem, auto)\",\n        Header: \"Created by\",\n        Cell: (e) => {\n          const row = e.row.original || e.row.subRows[0].original;\n          return row ? (\n            <Link to={`/channel/${row.video.snippet.channelId}`}>\n              {e.value}\n            </Link>\n          ) : (\n            e.value\n          );\n        },\n        Aggregated: (e) => {\n          return e.value.join(\", \");\n        },\n      },\n      {\n        accessor: \"video.snippet.publishedAt\",\n        aggregate: \"firstLast\",\n        width: \"minmax(8rem, min-content)\",\n        Header: \"Created on\",\n        Cell: (e) => {\n          return e.value.substring(0, 10);\n        },\n      },\n      {\n        accessor: (row) => {\n          return toSeconds(parse(row.video.contentDetails.duration));\n        },\n        aggregate: \"sum\",\n        width: \"6rem\",\n        Header: \"Length\",\n        Cell: (e) => {\n          if (e.value) {\n            const hours = Math.floor(e.value / 3600);\n            let minutes = Math.floor(e.value / 60) % 60;\n            if (minutes < 10) {\n              minutes = `0${minutes}`;\n            }\n            let seconds = e.value % 60;\n            if (seconds < 10) {\n              seconds = `0${seconds}`;\n            }\n\n            return hours > 0\n              ? `${hours}:${minutes}:${seconds}`\n              : `${minutes}:${seconds}`;\n          }\n          return null;\n        },\n      },\n      // {\n      //   Header: \"View Count\",\n      //   accessor: \"video.statistics.viewCount\",\n      // },\n      // {\n      //   Header: \"Like Count\",\n      //   accessor: \"video.statistics.likeCount\",\n      // },\n      // {\n      //   Header: \"Dislike Count\",\n      //   accessor: \"video.statistics.dislikeCount\",\n      // },\n      // {\n      //   Header: \"Comment Count\",\n      //   accessor: \"video.statistics.commentCount\",\n      // },\n      {\n        id: \"expander\",\n        disableSortBy: true,\n        width: \"2rem\",\n        Cell: (e) => {\n          return (\n            <span {...e.row.getToggleRowExpandedProps()}>\n              <FontAwesomeIcon\n                icon={faPlayCircle}\n                rotation={e.row.isExpanded ? 270 : 0}\n              />\n            </span>\n          );\n        },\n      },\n    ];\n  }, []);\n\n  const renderExpanded = useCallback((row) => {\n    return row.original ? (\n      <div\n        className=\"row\"\n        dangerouslySetInnerHTML={{\n          __html: row.original.video.player.embedHtml,\n        }}\n        {...row.getRowProps()}\n      />\n    ) : null;\n  }, []);\n\n  const [selectedRowIds, setSelectedRowIds] = useState([]);\n\n  return (\n    <div id=\"playlistItemsView\">\n      <button\n        id=\"trash\"\n        type=\"button\"\n        disabled={\n          !data.some((item) => {\n            return selectedRowIds.includes(item.id);\n          })\n        }\n        onClick={() => {\n          onDeleteButtonClicked(selectedRowIds);\n        }}\n      >\n        <FontAwesomeIcon icon={faTrash} />\n      </button>\n      <Table\n        columns={columns}\n        data={data}\n        hasMore={hasMore}\n        next={next}\n        renderExpanded={renderExpanded}\n        setSelectedRowIds={setSelectedRowIds}\n      />\n    </div>\n  );\n};\n\nPlaylistItemsView.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  hasMore: PropTypes.bool,\n  next: PropTypes.func,\n  onDeleteButtonClicked: PropTypes.func.isRequired,\n};\n\nPlaylistItemsView.defaultProps = {\n  hasMore: false,\n  next: () => {},\n};\n\nexport default PlaylistItemsView;\n","import React, { useCallback, useRef } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport \"./useButtonToast.css\";\n\nconst useButtonToast = (onClick, onClose) => {\n  const toastId = useRef(null);\n  const isRepeatToast = useRef(false);\n  const isDismissOnClick = useRef(false);\n  const isDismissOnRepeat = useRef(false);\n  return {\n    showButtonToast: useCallback(\n      (text, buttonText) => {\n        if (isRepeatToast.current) {\n          isDismissOnRepeat.current = true;\n          toast.dismiss(toastId.current);\n        } else {\n          isRepeatToast.current = true;\n        }\n        toastId.current = toast.dark(\n          () => {\n            return (\n              <div id=\"buttonToastView\">\n                {text}\n                <button\n                  id=\"toast\"\n                  type=\"button\"\n                  onClick={() => {\n                    isDismissOnClick.current = true;\n                    toast.dismiss(toastId.current);\n                    onClick();\n                  }}\n                >\n                  {buttonText}\n                </button>\n              </div>\n            );\n          },\n          {\n            className: \"buttonToast\",\n            closeOnClick: false,\n            onClose: () => {\n              if (isDismissOnRepeat.current) {\n                isDismissOnRepeat.current = false;\n              } else if (isDismissOnClick.current) {\n                isRepeatToast.current = false;\n                isDismissOnClick.current = false;\n              } else {\n                isRepeatToast.current = false;\n                onClose();\n              }\n            },\n          }\n        );\n      },\n      [onClick, onClose]\n    ),\n  };\n};\n\nexport default useButtonToast;\n","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport { useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nimport PlaylistItemsView from \"../../components/PlaylistItems/PlaylistItemsView\";\nimport PlaylistsView from \"../../components/Playlists/PlaylistsView\";\nimport useButtonToast from \"../../hooks/useButtonToast/useButtonToast\";\n\nimport {\n  useDeletePlaylistItems,\n  useListPlaylistItems,\n  useListPlaylists,\n} from \"./playlistsHooks\";\n\nconst PlaylistsPage = () => {\n  const { playlistId } = useParams();\n  const { data: playlistsList, error } = useListPlaylists(playlistId);\n  const {\n    data: playlistItemsList,\n    hasNextPage: hasMore,\n    fetchNextPage: next,\n  } = useListPlaylistItems(playlistId);\n  const { mutate } = useDeletePlaylistItems(playlistId);\n\n  useEffect(() => {\n    const options = { toastId: \"PlaylistsPage\" };\n    if (error?.response.status === 200) {\n      toast.error(\"Playlist not found. Check the URL.\", options);\n    } else if (error?.response.status === 401) {\n      toast.error(\"You must sign in to access this playlist.\", options);\n    } else if (error?.response.result) {\n      toast.error(error.response.result.error.message, options);\n    } else {\n      toast.dismiss();\n    }\n  }, [error]);\n\n  const [removedIds, setRemovedIds] = useState([]);\n\n  const { showButtonToast } = useButtonToast(\n    useCallback(() => {\n      setRemovedIds([]);\n    }, []),\n    useCallback(() => {\n      mutate(removedIds, {\n        onError: (err) => {\n          const options = { toastId: \"PlaylistsPage\" };\n          if (err.status === 401) {\n            toast.error(\"You must sign in to modify this playlist.\", options);\n          } else if (err.result) {\n            toast.error(err.result.error.message, options);\n          }\n        },\n      });\n      setRemovedIds([]);\n    }, [mutate, removedIds])\n  );\n\n  useEffect(() => {\n    if (removedIds.length > 0) {\n      showButtonToast(\n        removedIds.length === 1\n          ? `Removed 1 video.`\n          : `Removed ${removedIds.length} videos.`,\n        \"UNDO\"\n      );\n    }\n  }, [showButtonToast, removedIds]);\n\n  const data = useMemo(() => {\n    return playlistItemsList\n      .filter((playlistItem) => {\n        return !removedIds.includes(playlistItem.id);\n      })\n      .map((playlistItem, i) => {\n        playlistItem.snippet.position = i;\n        return playlistItem;\n      });\n  }, [playlistItemsList, removedIds]);\n\n  const onDeleteButtonClicked = useCallback(\n    (items) => {\n      setRemovedIds(\n        playlistItemsList\n          .filter((playlistItem) => {\n            return items.includes(playlistItem.id);\n          })\n          .map((playlistItem) => {\n            return playlistItem.id;\n          })\n      );\n    },\n    [playlistItemsList]\n  );\n\n  return (\n    <>\n      <Helmet>\n        <title>\n          {playlistsList\n            ? playlistsList.map((playlist, i) => {\n                return `${i === 0 ? \"YPM | \" : \"\"}${playlist.snippet.title}${\n                  i < playlistsList.length - 1 ? \" | \" : \"\"\n                }`;\n              })\n            : \"YouTube Playlist Manager\"}\n        </title>\n      </Helmet>\n      <PlaylistsView data={playlistsList || []} />\n      <PlaylistItemsView\n        data={data}\n        hasMore={hasMore}\n        next={next}\n        onDeleteButtonClicked={onDeleteButtonClicked}\n      />\n    </>\n  );\n};\n\nexport default PlaylistsPage;\n","import { useRef } from \"react\";\nimport {\n  useInfiniteQuery,\n  useMutation,\n  useQuery,\n  useQueryClient,\n} from \"react-query\";\n\nimport {\n  listPlaylistItems,\n  listPlaylists,\n  listVideos,\n  deletePlaylistItems,\n} from \"../../api/apiHandler\";\n\nconst useListPlaylists = (playlistId) => {\n  return useQuery(\n    [\"playlists\", playlistId],\n    async () => {\n      let response;\n      try {\n        response = await listPlaylists.playlistId(playlistId);\n\n        if (response.result.items?.length > 0) {\n          return response.result.items;\n        }\n      } catch (e) {\n        response = e;\n      }\n      const error = new Error();\n      error.response = response;\n      throw error;\n    },\n    {\n      placeholderData: [],\n    }\n  );\n};\n\nconst useListPlaylistItems = (playlistId) => {\n  return useInfiniteQuery(\n    [\"playlistItems\", playlistId],\n    async ({ pageParam: pageToken }) => {\n      try {\n        const response = await listPlaylistItems.playlistId(\n          playlistId,\n          pageToken\n        );\n        if (response.result.items?.length > 0) {\n          const ids = response.result.items.map((playlistItem) => {\n            return playlistItem.snippet.resourceId.videoId;\n          });\n          const res = await listVideos.videoId(ids);\n\n          response.result.items.forEach((playlistItem, i) => {\n            playlistItem.video = res.result.items[i];\n          });\n        }\n\n        return {\n          playlistItemsList: response.result.items,\n          playlistItemsToken: response.result.nextPageToken,\n        };\n      } catch (e) {}\n      return {};\n    },\n    {\n      placeholderData: [],\n      getNextPageParam: (lastPage) => {\n        return lastPage.playlistItemsToken;\n      },\n      select: (data) => {\n        return [].concat(\n          ...data.pages.map((page) => {\n            return page.playlistItemsList || [];\n          })\n        );\n      },\n    }\n  );\n};\n\nconst useDeletePlaylistItems = (playlistId) => {\n  const timeoutId = useRef(null);\n  const queryClient = useQueryClient();\n  const queryKey = [\"playlistItems\", playlistId];\n  return useMutation(\n    (playlistItemIds) => {\n      return Promise.all(\n        playlistItemIds.map(async (playlistItemId) => {\n          await deletePlaylistItems.playlistItemId(playlistItemId);\n        })\n      );\n    },\n    {\n      onMutate: async (variables) => {\n        clearTimeout(timeoutId.current);\n        await queryClient.cancelQueries(queryKey);\n        const previousState = queryClient.getQueryData(queryKey);\n\n        queryClient.setQueryData(queryKey, (oldData) => {\n          return {\n            ...oldData,\n            pages: oldData.pages.map((page) => {\n              return {\n                ...page,\n                playlistItemsList: page.playlistItemsList\n                  .filter((playlistItem) => {\n                    return !variables.includes(playlistItem.id);\n                  })\n                  .map((playlistItem, i) => {\n                    playlistItem.snippet.position = i;\n                    return playlistItem;\n                  }),\n              };\n            }),\n          };\n        });\n\n        return previousState;\n      },\n      onError: (err, variables, previousState) => {\n        clearTimeout(timeoutId.current);\n        queryClient.setQueryData(queryKey, previousState);\n      },\n      onSuccess: () => {\n        clearTimeout(timeoutId.current);\n        timeoutId.current = setTimeout(() => {\n          queryClient.invalidateQueries(queryKey);\n        }, 1000 * 20);\n      },\n    }\n  );\n};\n\nexport { useDeletePlaylistItems, useListPlaylists, useListPlaylistItems };\n","import React, { useEffect, useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { Flip, ToastContainer } from \"react-toastify\";\n\nimport { initClient, toggleUser } from \"./api/apiHandler\";\nimport HeaderView from \"./components/Header/HeaderView\";\nimport ChannelsPage from \"./containers/Channels/ChannelsPage\";\nimport PlaylistsPage from \"./containers/Playlists/PlaylistsPage\";\n\nconst App = () => {\n  const [ready, setReady] = useState(false);\n  const [user, setUser] = useState({ isAuthorized: false });\n\n  useEffect(() => {\n    initClient(setReady, setUser);\n  }, []);\n\n  return (\n    <>\n      <HeaderView user={user} toggleUser={toggleUser} />\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={10000}\n        transition={Flip}\n        closeOnClick\n        pauseOnFocusLoss\n        pauseOnHover\n      />\n      {ready && (\n        <Switch>\n          <Route path=\"/channel/:channelId\">\n            <ChannelsPage />\n          </Route>\n          <Route path=\"/playlist/:playlistId\">\n            <PlaylistsPage />\n          </Route>\n        </Switch>\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HelmetProvider } from \"react-helmet-async\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport { ReactQueryDevtools } from \"react-query/devtools\";\nimport { persistWithLocalStorage } from \"react-query/persist-localstorage-experimental\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport App from \"./App\";\n\nimport \"rc-tooltip/assets/bootstrap.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport \"./index.css\";\n\nconst queryClient = new QueryClient();\nqueryClient.setDefaultOptions({\n  queries: {\n    staleTime: 1000 * 60 * 60,\n    cacheTime: Infinity,\n    refetchOnReconnect: false,\n    refetchOnWindowFocus: false,\n    retry: false,\n  },\n});\npersistWithLocalStorage(queryClient, {\n  maxAge: 1000 * 60 * 60 * 24 * 30,\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename=\"/youtube-playlist-manager/#\">\n      <QueryClientProvider client={queryClient}>\n        <HelmetProvider>\n          <App />\n        </HelmetProvider>\n        <ReactQueryDevtools />\n      </QueryClientProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}