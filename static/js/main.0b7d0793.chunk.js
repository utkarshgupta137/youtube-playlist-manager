(this["webpackJsonpyoutube-playlist-manager"]=this["webpackJsonpyoutube-playlist-manager"]||[]).push([[0],{102:function(t,e,n){},176:function(t,e,n){},177:function(t,e,n){},180:function(t,e,n){},182:function(t,e,n){"use strict";n.r(e);var s,r,i=n(3),a=n(0),c=n.n(a),o=n(36),u=n.n(o),l=n(23),p=n(15),d=n(81),b=n(209),h=n(9),j=n(210),m=n(84),f=n.n(m),y=n(82),O=n.n(y),g=n(83),v=n.n(g),I=function t(e){try{return new URL(e)}catch(n){return!e||e.startsWith("http://")||e.startsWith("https://")?null:t("https://".concat(e))}},x=function(t){var e=I(t);return!!e&&e.searchParams.has("list")},w=(n(102),function(t){var e=t.url,n=t.setUrl,s=Object(a.useState)(e),r=Object(h.a)(s,2),c=r[0],o=r[1],u=Object(a.useState)(!0),l=Object(h.a)(u,2),p=l[0],d=l[1];return Object(a.useEffect)((function(){x(c)?d(!1):d(!0)}),[e,c]),Object(i.jsxs)("div",{id:"header",children:[Object(i.jsx)("input",{id:"url",type:"text",value:c,onChange:function(t){o(t.target.value)},placeholder:"Playlist URL"}),Object(i.jsx)("button",{id:"search",type:"button",disabled:p,onClick:function(){n(c),d(!0),setTimeout((function(){d(!1)}),3e3)},children:e===c?Object(i.jsx)(O.a,{}):Object(i.jsx)(v.a,{})}),Object(i.jsx)(j.a,{id:"github",edge:"end",component:"a",href:"https://github.com/utkarshgupta137/youtube-playlist-manager",children:Object(i.jsx)(f.a,{})})]})}),k=n(21),T=Object(k.b)({name:"header",initialState:{url:"https://www.youtube.com/playlist?list=PLZHQObOWTQDOcxqQ36Vow3TdTRjkdSvT-"},reducers:{updateUrl:function(t,e){t.url=e.payload.url}}}),H=T.actions.updateUrl,P=T.reducer,C=n(85),L=n.n(C),S=n(13),A=n(204),E=n(208),V=n(207),D=n(205),U=n(206),R=n(86),B=(n(176),function(t){var e=t.columns,n=t.data,s=Object(R.useTable)({columns:e,data:n}),r=s.getTableProps,a=s.headerGroups,c=s.rows,o=s.prepareRow;return Object(i.jsxs)(A.a,Object(S.a)(Object(S.a)({},r()),{},{children:[Object(i.jsx)(D.a,{children:a.map((function(t){return Object(i.jsx)(U.a,Object(S.a)(Object(S.a)({},t.getHeaderGroupProps()),{},{children:t.headers.map((function(t){return Object(i.jsx)(V.a,Object(S.a)(Object(S.a)({},t.getHeaderProps()),{},{children:t.render("Header")}))}))}))}))}),Object(i.jsx)(E.a,{children:c.map((function(t){return o(t),Object(i.jsx)(U.a,Object(S.a)(Object(S.a)({},t.getRowProps()),{},{children:t.cells.map((function(t){return Object(i.jsx)(V.a,Object(S.a)(Object(S.a)({},t.getCellProps()),{},{children:t.render("Cell")}))}))}))}))})]}))}),G=(n(177),function(t){var e=t.playlistItemsList,n=Object(a.useMemo)((function(){return[{Header:"Playlist Info",columns:[{Header:"Position",accessor:"snippet.position"},{Header:"Added by",accessor:"snippet.channelTitle"},{Header:"Added on",accessor:"snippet.publishedAt"}]},{Header:"Video Info",columns:[{Header:"Title",accessor:"video.snippet.title"},{Header:"Channel Title",accessor:"video.snippet.channelTitle"},{Header:"Published on",accessor:"video.snippet.publishedAt"},{Header:"Duration",accessor:"video.contentDetails.duration"}]},{Header:"Video Statistics",columns:[{Header:"View Count",accessor:"video.statistics.viewCount"},{Header:"Like Count",accessor:"video.statistics.likeCount"},{Header:"Dislike Count",accessor:"video.statistics.dislikeCount"},{Header:"Comment Count",accessor:"video.statistics.commentCount"}]}]}),[]),s=Object(a.useMemo)((function(){return L()(e).map((function(t){return t.snippet.position+=1,t.snippet.publishedAt=t.snippet.publishedAt.substring(0,10),t.video&&(t.video.snippet.publishedAt=t.video.snippet.publishedAt.substring(0,10),t.video.contentDetails.duration=t.video.contentDetails.duration.replace("P","").replace("T","").toLowerCase()),t}))}),[e]);return Object(i.jsx)("div",{id:"playlistItems",children:Object(i.jsx)(B,{columns:n,data:s})})}),J=n(7),F=n.n(J),M=n(17),Q=n(61),W=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],q="https://www.googleapis.com/auth/youtube.readonly";function z(){return r=s.currentUser.get(),r.hasGrantedScopes(q)}function K(t,e){return N.apply(this,arguments)}function N(){return(N=Object(M.a)(F.a.mark((function t(e,n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gapi.client.youtube.playlistItems.list({part:["snippet"],maxResults:50,playlistId:e,pageToken:n}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(t,e){return Y.apply(this,arguments)}function Y(){return(Y=Object(M.a)(F.a.mark((function t(e,n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gapi.client.youtube.videos.list({part:["snippet,contentDetails,statistics"],maxResults:50,id:e,pageToken:n}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Z={playlistItemsList:[],playlistItemsError:{},playlistItemsToken:""},$=Object(k.b)({name:"playlistItems",initialState:Z,reducers:{listPlaylistItemsSuccess:function(t,e){t.playlistItemsError=Z.playlistItemsError,t.playlistItemsList=e.payload.playlistItemsList,t.playlistItemsToken=e.payload.playlistItemsToken},listPlaylistItemsFailed:function(t,e){t.playlistItemsList=Z.playlistItemsList,t.playlistItemsToken=Z.playlistItemsToken,t.playlistItemsError=e.payload.playlistItemsError}}}),_=$.actions,tt=_.listPlaylistItemsSuccess,et=_.listPlaylistItemsFailed,nt=$.reducer,st=function(){var t,e=Object(l.b)(),n=Object(l.c)((function(t){return t.headerView})).url,s=Object(l.c)((function(t){return t.playlistItemsView})).playlistItemsList,r=Object(a.useCallback)((function(t){var n;x(t)&&(e(H({url:t})),e((n=function(t){var e=I(t);return e?e.searchParams.get("list"):null}(t),function(){var t=Object(M.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:K(n).then((function(t){return e((n=t.result,function(){var t=Object(M.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:X(n.items.map((function(t){return t.snippet.resourceId.videoId}))).then((function(t){return n.items.forEach((function(e,n){e.video=t.result.items[n]})),e(tt({playlistItemsList:n.items,playlistItemsToken:n.nextPageToken}))})).catch((function(t){return e(et({playlistItemsError:t}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var n})).catch((function(t){return e(et({playlistItemsError:t}))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())))}),[e]);return x(n)&&s.length>0&&(t=Object(i.jsx)(G,{playlistItemsList:s})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b.a,{}),Object(i.jsx)(w,{url:n,setUrl:r}),t]})},rt=n(10),it=n(87),at=n.n(it),ct=Object(rt.c)({headerView:P,playlistItemsView:nt}),ot={key:"root",version:1,storage:at.a},ut=Object(p.g)(ot,ct),lt=Object(k.a)({reducer:ut,middleware:Object(k.c)({serializableCheck:{ignoredActions:[p.a,p.f,p.b,p.c,p.d,p.e]}})}),pt=(n(180),Object(p.h)(lt));(gapi.load("client:auth2",(function(){return gapi.client.init({apiKey:Q.a,clientId:Q.b,discoveryDocs:W,scope:q}).then((function(){return(s=gapi.auth2.getAuthInstance()).isSignedIn.listen(z),z()}))})),new Promise((function t(e){return gapi.client&&gapi.client.youtube?e():setTimeout((function(){return t(e)}),100)}))).then((function(){return u.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(l.a,{store:lt,children:Object(i.jsx)(d.a,{persistor:pt,children:Object(i.jsx)(st,{})})})}),document.getElementById("root")),!0})).catch((function(){return!1}))},61:function(t){t.exports=JSON.parse('{"a":"AIzaSyBPouCHA4aUoTIhHBEVYaha9BGObJbeX8E","b":"254479881953-0scmhf7q4rmcnp61pa1pd83es2g1e3ui.apps.googleusercontent.com"}')}},[[182,1,2]]]);
//# sourceMappingURL=main.0b7d0793.chunk.js.map