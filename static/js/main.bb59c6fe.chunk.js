(this["webpackJsonpyoutube-playlist-manager"]=this["webpackJsonpyoutube-playlist-manager"]||[]).push([[0],{162:function(t,e,n){},163:function(t,e,n){},164:function(t,e,n){},166:function(t,e,n){"use strict";n.r(e);var s,r,i=n(3),a=n(0),c=n.n(a),o=n(31),u=n.n(o),l=n(20),p=n(190),d=n(17),b=n(68),m=n.n(b),h=function t(e){try{return new URL(e)}catch(n){return!e||e.startsWith("http://")||e.startsWith("https://")?null:t("https://".concat(e))}},j=function(t){var e=h(t);return!!e&&e.searchParams.has("list")},f=(n(85),function(t){var e=t.url,n=t.setUrl,s=Object(a.useState)(e),r=Object(d.a)(s,2),c=r[0],o=r[1],u=!0;return j(c)&&(u=!1),Object(i.jsxs)("div",{id:"header",children:[Object(i.jsx)("input",{id:"url",type:"text",value:c,onChange:function(t){o(t.target.value)},placeholder:"Playlist URL"}),Object(i.jsx)("button",{id:"search",type:"button",disabled:u,onClick:function(){n(c)},children:Object(i.jsx)(m.a,{})})]})}),y=n(19),O=Object(y.b)({name:"header",initialState:{url:"youtube.com/channel/mine"},reducers:{updateUrl:function(t,e){t.url=e.payload.url}}}),I=O.actions.updateUrl,v=O.reducer,g=n(69),x=n.n(g),w=n(11),k=n(185),P=n(189),H=n(188),C=n(186),T=n(187),L=n(70),E=(n(162),function(t){var e=t.columns,n=t.data,s=Object(L.useTable)({columns:e,data:n}),r=s.getTableProps,a=s.headerGroups,c=s.rows,o=s.prepareRow;return Object(i.jsxs)(k.a,Object(w.a)(Object(w.a)({},r()),{},{children:[Object(i.jsx)(C.a,{children:a.map((function(t){return Object(i.jsx)(T.a,Object(w.a)(Object(w.a)({},t.getHeaderGroupProps()),{},{children:t.headers.map((function(t){return Object(i.jsx)(H.a,Object(w.a)(Object(w.a)({},t.getHeaderProps()),{},{children:t.render("Header")}))}))}))}))}),Object(i.jsx)(P.a,{children:c.map((function(t){return o(t),Object(i.jsx)(T.a,Object(w.a)(Object(w.a)({},t.getRowProps()),{},{children:t.cells.map((function(t){return Object(i.jsx)(H.a,Object(w.a)(Object(w.a)({},t.getCellProps()),{},{children:t.render("Cell")}))}))}))}))})]}))}),S=(n(163),function(t){var e=t.playlistItemsList,n=Object(a.useMemo)((function(){return[{Header:"Playlist Info",columns:[{Header:"Position",accessor:"snippet.position"},{Header:"Added",accessor:"snippet.publishedAt"}]},{Header:"Video Info",columns:[{Header:"Title",accessor:"video.snippet.title"},{Header:"Channel Title",accessor:"snippet.channelTitle"},{Header:"Duration",accessor:"video.contentDetails.duration"},{Header:"Published",accessor:"video.snippet.publishedAt"}]},{Header:"Video Statistics",columns:[{Header:"View Count",accessor:"video.statistics.viewCount"},{Header:"Like Count",accessor:"video.statistics.likeCount"},{Header:"Dislike Count",accessor:"video.statistics.dislikeCount"},{Header:"Comment Count",accessor:"video.statistics.commentCount"}]}]}),[]),s=Object(a.useMemo)((function(){return x()(e).map((function(t){return t.snippet.position+=1,t.snippet.publishedAt=t.snippet.publishedAt.substring(0,10),t.video&&(t.video.snippet.publishedAt=t.video.snippet.publishedAt.substring(0,10),t.video.contentDetails.duration=t.video.contentDetails.duration.replace("P","").replace("T","").toLowerCase()),t}))}),[e]);return Object(i.jsx)("div",{id:"playlistItems",children:Object(i.jsx)(E,{columns:n,data:s})})}),A=n(5),U=n.n(A),V=n(14),D=n(48),R=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],B="https://www.googleapis.com/auth/youtube.readonly";function G(){return r=s.currentUser.get(),r.hasGrantedScopes(B)}function J(t,e){return F.apply(this,arguments)}function F(){return(F=Object(V.a)(U.a.mark((function t(e,n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gapi.client.youtube.playlistItems.list({part:["snippet"],maxResults:50,playlistId:e,pageToken:n}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t,e){return W.apply(this,arguments)}function W(){return(W=Object(V.a)(U.a.mark((function t(e,n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gapi.client.youtube.videos.list({part:["snippet,contentDetails,statistics,status"],maxResults:50,id:e,pageToken:n}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var q={playlistItemsList:[],playlistItemsError:{},playlistItemsToken:""},z=Object(y.b)({name:"playlistItems",initialState:q,reducers:{listPlaylistItemsSuccess:function(t,e){t.playlistItemsError=q.playlistItemsError,t.playlistItemsList=e.payload.playlistItemsList,t.playlistItemsToken=e.payload.playlistItemsToken},listPlaylistItemsFailed:function(t,e){t.playlistItemsList=q.playlistItemsList,t.playlistItemsToken=q.playlistItemsToken,t.playlistItemsError=e.payload.playlistItemsError}}}),K=z.actions,N=K.listPlaylistItemsSuccess,X=K.listPlaylistItemsFailed,Y=z.reducer,Q=function(){var t,e=Object(l.b)(),n=Object(l.c)((function(t){return t.headerView})).url,s=Object(l.c)((function(t){return t.playlistItemsView})).playlistItemsList,r=Object(a.useCallback)((function(t){j(t)&&e(I({url:t}))}),[e]);return Object(a.useEffect)((function(){var t;j(n)&&e((t=function(t){var e=h(t);return e?e.searchParams.get("list"):null}(n),function(){var e=Object(V.a)(U.a.mark((function e(n){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(t).then((function(t){return n((e=t.result,function(){var t=Object(V.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:M(e.items.map((function(t){return t.snippet.resourceId.videoId}))).then((function(t){return e.items.forEach((function(e,n){e.video=t.result.items[n]})),n(N({playlistItemsList:e.items,playlistItemsToken:e.nextPageToken}))})).catch((function(t){return n(X({playlistItemsError:t}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e})).catch((function(t){return n(X({playlistItemsError:t}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[n,e]),j(n)&&s.length>0&&(t=Object(i.jsx)(S,{playlistItemsList:s})),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(p.a,{}),Object(i.jsx)(f,{url:n,setUrl:r}),t]})},Z=n(9),$=Object(y.a)({reducer:Object(Z.c)({headerView:v,playlistItemsView:Y})});n(164);(gapi.load("client:auth2",(function(){return gapi.client.init({apiKey:D.a,clientId:D.b,discoveryDocs:R,scope:B}).then((function(){return(s=gapi.auth2.getAuthInstance()).isSignedIn.listen(G),G()}))})),new Promise((function t(e){return gapi.client&&gapi.client.youtube?e():setTimeout((function(){return t(e)}),100)}))).then((function(){u.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(l.a,{store:$,children:Object(i.jsx)(Q,{})})}),document.getElementById("root"))}))},48:function(t){t.exports=JSON.parse('{"a":"AIzaSyBPouCHA4aUoTIhHBEVYaha9BGObJbeX8E","b":"254479881953-0scmhf7q4rmcnp61pa1pd83es2g1e3ui.apps.googleusercontent.com"}')},85:function(t,e,n){}},[[166,1,2]]]);
//# sourceMappingURL=main.bb59c6fe.chunk.js.map