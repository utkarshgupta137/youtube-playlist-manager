(this["webpackJsonpyoutube-playlist-manager"]=this["webpackJsonpyoutube-playlist-manager"]||[]).push([[0],{15:function(t){t.exports=JSON.parse('{"a":"AIzaSyBPouCHA4aUoTIhHBEVYaha9BGObJbeX8E","b":"254479881953-0scmhf7q4rmcnp61pa1pd83es2g1e3ui.apps.googleusercontent.com"}')},33:function(t,e,s){},35:function(t,e,s){},36:function(t,e,s){"use strict";s.r(e);var n,i,r=s(2),a=s(0),l=s.n(a),c=s(9),u=s.n(c),o=s(7),p=s(20),y=s(19),m=s(18),d=function t(e){try{return new URL(e)}catch(s){return!e||e.startsWith("http://")||e.startsWith("https://")?null:t("https://".concat(e))}},f=function(t){var e=d(t);return!!e&&e.searchParams.has("list")},h=(s(33),function(t){var e=t.url,s=t.setUrl,n=Object(a.useState)(e),i=Object(p.a)(n,2),l=i[0],c=i[1],u=!0;return f(l)&&(u=!1),Object(r.jsxs)("div",{id:"header",children:[Object(r.jsx)("input",{id:"url",type:"text",value:l,onChange:function(t){c(t.target.value)},placeholder:"Playlist URL"}),Object(r.jsx)("button",{id:"search",type:"button",disabled:u,onClick:function(){s(l)},children:Object(r.jsx)(m.a,{icon:y.a})})]})}),b=s(6),I=Object(b.b)({name:"header",initialState:{url:"youtube.com/channel/mine"},reducers:{updateUrl:function(t,e){t.url=e.payload.url}}}),j=I.actions.updateUrl,O=I.reducer,g=function(t){var e=t.playlistItemsList;return Object(r.jsx)("div",{id:"playlistItems",children:Object(r.jsx)("ul",{children:e.map((function(t){return Object(r.jsx)("li",{children:JSON.stringify(t)})}))})})},v=s(3),w=s.n(v),x=s(5),k=s(16),L=s(15),E=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],S="https://www.googleapis.com/auth/youtube.readonly";function T(){return i=n.currentUser.get(),i.hasGrantedScopes(S)}function P(t,e){return V.apply(this,arguments)}function V(){return(V=Object(x.a)(w.a.mark((function t(e,s){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gapi.client.youtube.playlistItems.list({part:["snippet,contentDetails"],maxResults:50,playlistId:e,pageToken:s}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(t,e){return J.apply(this,arguments)}function J(){return(J=Object(x.a)(w.a.mark((function t(e,s){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gapi.client.youtube.videos.list({part:["snippet,contentDetails,statistics,status"],maxResults:50,id:e,pageToken:s}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var B={playlistItemsList:[],playlistItemsError:{},playlistItemsToken:""},C=Object(b.b)({name:"playlistItems",initialState:B,reducers:{listPlaylistItemsSuccess:function(t,e){t.playlistItemsError=B.playlistItemsError,t.playlistItemsList=e.payload.playlistItemsList,t.playlistItemsToken=e.payload.playlistItemsToken},listPlaylistItemsFailed:function(t,e){t.playlistItemsList=B.playlistItemsList,t.playlistItemsToken=B.playlistItemsToken,t.playlistItemsError=e.payload.playlistItemsError},listVideosSuccess:function(t,e){t.playlistItemsError=B.playlistItemsError,t.playlistItemsList=t.playlistItemsList.map((function(t,s){return Object(k.a)(Object(k.a)({},t),{},{video:e.payload.playlistItemsList[s]})}))},listVideosFailed:function(t,e){t.playlistItemsList=B.playlistItemsList,t.playlistItemsToken=B.playlistItemsToken,t.playlistItemsError=e.payload.playlistItemsError}}}),F=C.actions,R=F.listPlaylistItemsSuccess,A=F.listPlaylistItemsFailed,D=F.listVideosSuccess,G=F.listVideosFailed,H=function(t){return function(){var e=Object(x.a)(w.a.mark((function e(s){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(t).then((function(t){return s(D({playlistItemsList:t.result.items}))})).catch((function(t){s(G({playlistItemsError:t}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=C.reducer,W=function(){var t,e=Object(o.b)(),s=Object(o.c)((function(t){return t.headerView})).url,n=Object(o.c)((function(t){return t.playlistItemsView})).playlistItemsList,i=Object(a.useCallback)((function(t){f(t)&&e(j({url:t}))}),[e]);return Object(a.useEffect)((function(){var t;f(s)&&e((t=function(t){var e=d(t);return e?e.searchParams.get("list"):null}(s),function(){var e=Object(x.a)(w.a.mark((function e(s){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(t).then((function(t){var e=t.result.items.map((function(t){return t.snippet.resourceId.videoId}));return s(H(e)),s(R({playlistItemsList:t.result.items,playlistItemsToken:t.result.nextPageToken}))})).catch((function(t){s(A({playlistItemsError:t}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[s,e]),f(s)&&n.length>0&&(t=Object(r.jsx)(g,{playlistItemsList:n})),Object(r.jsxs)("div",{id:"app",children:[Object(r.jsx)(h,{url:s,setUrl:i}),t]})},q=s(4),z=Object(b.a)({reducer:Object(q.c)({headerView:O,playlistItemsView:N})});s(35);(gapi.load("client:auth2",(function(){return gapi.client.init({apiKey:L.a,clientId:L.b,discoveryDocs:E,scope:S}).then((function(){return(n=gapi.auth2.getAuthInstance()).isSignedIn.listen(T),T()}))})),new Promise((function t(e){return gapi.client&&gapi.client.youtube?e():setTimeout((function(){return t(e)}),100)}))).then((function(){u.a.render(Object(r.jsx)(l.a.StrictMode,{children:Object(r.jsx)(o.a,{store:z,children:Object(r.jsx)(W,{})})}),document.getElementById("root"))}))}},[[36,1,2]]]);
//# sourceMappingURL=main.8283e403.chunk.js.map