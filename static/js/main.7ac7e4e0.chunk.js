(this["webpackJsonpyoutube-playlist-manager"]=this["webpackJsonpyoutube-playlist-manager"]||[]).push([[0],{159:function(t,e,s){},160:function(t,e,s){},161:function(t,e,s){},163:function(t,e,s){"use strict";s.r(e);var n,i,r=s(2),a=s(0),c=s.n(a),l=s(18),o=s.n(l),u=s(20),p=s(68),d=s(65),m=s.n(d),b=function t(e){try{return new URL(e)}catch(s){return!e||e.startsWith("http://")||e.startsWith("https://")?null:t("https://".concat(e))}},h=function(t){var e=b(t);return!!e&&(e.pathname.startsWith("/playlist")&&e.searchParams.has("list"))},y=(s(82),function(t){var e=t.url,s=t.setUrl,n=Object(a.useState)(e),i=Object(p.a)(n,2),c=i[0],l=i[1],o=!0;return h(c)&&(o=!1),Object(r.jsxs)("div",{id:"header",children:[Object(r.jsx)("input",{id:"url",type:"text",value:c,onChange:function(t){l(t.target.value)},placeholder:"Playlist URL"}),Object(r.jsx)("button",{id:"search",type:"button",disabled:o,onClick:function(){s(c)},children:Object(r.jsx)(m.a,{})})]})}),j=s(19),f=Object(j.b)({name:"header",initialState:{url:"youtube.com/channel/mine"},reducers:{updateUrl:function(t,e){t.url=e.payload.url}}}),O=f.actions.updateUrl,I=f.reducer,v=s(66),g=s.n(v),x=s(6),w=s(181),k=s(182),P=s(186),H=s(185),C=s(183),L=s(184),T=s(67),E=(s(159),function(t){var e=t.columns,s=t.data,n=Object(T.useTable)({columns:e,data:s}),i=n.getTableProps,a=n.headerGroups,c=n.rows,l=n.prepareRow;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(w.a,{}),Object(r.jsxs)(k.a,Object(x.a)(Object(x.a)({},i()),{},{children:[Object(r.jsx)(C.a,{children:a.map((function(t){return Object(r.jsx)(L.a,Object(x.a)(Object(x.a)({},t.getHeaderGroupProps()),{},{children:t.headers.map((function(t){return Object(r.jsx)(H.a,Object(x.a)(Object(x.a)({},t.getHeaderProps()),{},{children:t.render("Header")}))}))}))}))}),Object(r.jsx)(P.a,{children:c.map((function(t){return l(t),Object(r.jsx)(L.a,Object(x.a)(Object(x.a)({},t.getRowProps()),{},{children:t.cells.map((function(t){return Object(r.jsx)(H.a,Object(x.a)(Object(x.a)({},t.getCellProps()),{},{children:t.render("Cell")}))}))}))}))})]}))]})}),S=(s(160),function(t){var e=t.playlistItemsList,s=Object(a.useMemo)((function(){return[{Header:"Playlist Info",columns:[{Header:"Position",accessor:"snippet.position"},{Header:"Added At",accessor:"snippet.publishedAt"}]},{Header:"Video Info",columns:[{Header:"Title",accessor:"video.snippet.title"},{Header:"Channel Title",accessor:"snippet.channelTitle"},{Header:"Duration",accessor:"video.contentDetails.duration"},{Header:"Published At",accessor:"video.snippet.publishedAt"}]},{Header:"Video Statistics",columns:[{Header:"View Count",accessor:"video.statistics.viewCount"},{Header:"Like Count",accessor:"video.statistics.likeCount"},{Header:"Dislike Count",accessor:"video.statistics.dislikeCount"},{Header:"Comment Count",accessor:"video.statistics.commentCount"}]}]}),[]),n=g()(e);return n.forEach((function(t){t.snippet.publishedAt=t.snippet.publishedAt.substring(0,10),t.video&&(t.video.contentDetails.duration=t.video.contentDetails.duration.replace("P","").replace("T","").toLowerCase(),t.video.snippet.publishedAt=t.video.snippet.publishedAt.substring(0,10))})),Object(r.jsx)("div",{id:"playlistItems",children:Object(r.jsx)(E,{columns:s,data:n})})}),A=s(4),V=s.n(A),U=s(15),D=s(45),F=["https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest"],R="https://www.googleapis.com/auth/youtube.readonly";function B(){return i=n.currentUser.get(),i.hasGrantedScopes(R)}function G(t,e){return J.apply(this,arguments)}function J(){return(J=Object(U.a)(V.a.mark((function t(e,s){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gapi.client.youtube.playlistItems.list({part:["snippet"],maxResults:50,playlistId:e,pageToken:s}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(t,e){return M.apply(this,arguments)}function M(){return(M=Object(U.a)(V.a.mark((function t(e,s){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gapi.client.youtube.videos.list({part:["snippet,contentDetails,statistics,status"],maxResults:50,id:e,pageToken:s}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var q={playlistItemsList:[],playlistItemsError:{},playlistItemsToken:""},z=Object(j.b)({name:"playlistItems",initialState:q,reducers:{listPlaylistItemsSuccess:function(t,e){t.playlistItemsError=q.playlistItemsError,t.playlistItemsList=e.payload.playlistItemsList,t.playlistItemsToken=e.payload.playlistItemsToken},listPlaylistItemsFailed:function(t,e){t.playlistItemsList=q.playlistItemsList,t.playlistItemsToken=q.playlistItemsToken,t.playlistItemsError=e.payload.playlistItemsError},listVideosSuccess:function(t,e){t.playlistItemsError=q.playlistItemsError,t.playlistItemsList=t.playlistItemsList.map((function(t,s){return Object(x.a)(Object(x.a)({},t),{},{video:e.payload.playlistItemsList[s]})}))},listVideosFailed:function(t,e){t.playlistItemsError=e.payload.playlistItemsError}}}),K=z.actions,N=K.listPlaylistItemsSuccess,X=K.listPlaylistItemsFailed,Y=K.listVideosSuccess,Q=K.listVideosFailed,Z=function(t){return function(){var e=Object(U.a)(V.a.mark((function e(s){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(t).then((function(t){return s(Y({playlistItemsList:t.result.items}))})).catch((function(t){s(Q({playlistItemsError:t}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$=z.reducer,_=function(){var t,e=Object(u.b)(),s=Object(u.c)((function(t){return t.headerView})).url,n=Object(u.c)((function(t){return t.playlistItemsView})).playlistItemsList,i=Object(a.useCallback)((function(t){h(t)&&e(O({url:t}))}),[e]);return Object(a.useEffect)((function(){var t;h(s)&&e((t=function(t){var e=b(t);return e?e.searchParams.get("list"):null}(s),function(){var e=Object(U.a)(V.a.mark((function e(s){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G(t).then((function(t){var e=t.result.items.map((function(t){return t.snippet.resourceId.videoId}));return s(Z(e)),s(N({playlistItemsList:t.result.items,playlistItemsToken:t.result.nextPageToken}))})).catch((function(t){s(X({playlistItemsError:t}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[s,e]),h(s)&&n.length>0&&(t=Object(r.jsx)(S,{playlistItemsList:n})),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(y,{url:s,setUrl:i}),t]})},tt=s(11),et=Object(j.a)({reducer:Object(tt.c)({headerView:I,playlistItemsView:$})});s(161);(gapi.load("client:auth2",(function(){return gapi.client.init({apiKey:D.a,clientId:D.b,discoveryDocs:F,scope:R}).then((function(){return(n=gapi.auth2.getAuthInstance()).isSignedIn.listen(B),B()}))})),new Promise((function t(e){return gapi.client&&gapi.client.youtube?e():setTimeout((function(){return t(e)}),100)}))).then((function(){o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(u.a,{store:et,children:Object(r.jsx)(_,{})})}),document.getElementById("root"))}))},45:function(t){t.exports=JSON.parse('{"a":"AIzaSyBPouCHA4aUoTIhHBEVYaha9BGObJbeX8E","b":"254479881953-0scmhf7q4rmcnp61pa1pd83es2g1e3ui.apps.googleusercontent.com"}')},82:function(t,e,s){}},[[163,1,2]]]);
//# sourceMappingURL=main.7ac7e4e0.chunk.js.map