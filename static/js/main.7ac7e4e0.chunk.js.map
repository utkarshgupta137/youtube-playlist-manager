{"version":3,"sources":["api/apiHandler.js","utils/urlUtils.js","components/Header/HeaderView.jsx","components/Header/headerState.js","components/Table/Table.jsx","components/PlaylistItems/PlaylistItemsView.jsx","components/PlaylistItems/playlistItemsState.js","App.jsx","store.js","index.jsx"],"names":["GoogleAuth","GoogleUser","getURL","url","URL","e","startsWith","isPlaylistUrl","urlObj","pathname","searchParams","has","HeaderView","setUrl","useState","currentUrl","setCurrentUrl","isSearchButtonDisabled","id","type","value","onChange","target","placeholder","disabled","onClick","headerSlice","createSlice","name","initialState","reducers","updateUrl","state","action","payload","actions","Table","columns","data","useTable","getTableProps","headerGroups","rows","prepareRow","CssBaseline","TableHead","map","headerGroup","TableRow","getHeaderGroupProps","headers","column","TableCell","getHeaderProps","render","TableBody","row","getRowProps","cells","cell","getCellProps","PlaylistItemsView","playlistItemsList","useMemo","Header","accessor","cloneDeep","forEach","playlistItem","snippet","publishedAt","substring","video","contentDetails","duration","replace","toLowerCase","discoveryDocs","scope","updateAuthStatus","currentUser","get","hasGrantedScopes","listPlaylistItems","playlistId","pageToken","a","gapi","client","youtube","playlistItems","list","part","maxResults","listVideos","videos","playlistItemsError","playlistItemsToken","playlistItemsSlice","listPlaylistItemsSuccess","listPlaylistItemsFailed","listVideosSuccess","i","listVideosFailed","fetchVideos","ids","dispatch","then","response","result","items","catch","App","components","useDispatch","useSelector","headerView","playlistItemsView","useCallback","newUrl","useEffect","getPlaylistId","resourceId","videoId","nextPageToken","length","store","configureStore","reducer","combineReducers","headerState","playlistItemsState","load","init","apiKey","clientId","auth2","getAuthInstance","isSignedIn","listen","Promise","wait","resolve","setTimeout","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7ac7e4e0.chunk.js","sourcesContent":["import { apiKey, clientId } from \"./client_secrets.json\";\n\nconst discoveryDocs = [\n  \"https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest\",\n];\nconst scope = \"https://www.googleapis.com/auth/youtube.readonly\";\n\nlet GoogleAuth;\nlet GoogleUser;\nlet isAuthorized;\n\nfunction getAuthStatus() {\n  return isAuthorized;\n}\n\nfunction updateAuthStatus() {\n  GoogleUser = GoogleAuth.currentUser.get();\n  isAuthorized = GoogleUser.hasGrantedScopes(scope);\n  return isAuthorized;\n}\n\nfunction initClient() {\n  gapi.load(\"client:auth2\", () => {\n    return gapi.client\n      .init({\n        apiKey,\n        clientId,\n        discoveryDocs,\n        scope,\n      })\n      .then(() => {\n        GoogleAuth = gapi.auth2.getAuthInstance();\n        GoogleAuth.isSignedIn.listen(updateAuthStatus);\n        return updateAuthStatus();\n      });\n  });\n\n  return new Promise(function wait(resolve) {\n    if (gapi.client && gapi.client.youtube) {\n      return resolve();\n    }\n    return setTimeout(() => {\n      return wait(resolve);\n    }, 100);\n  });\n}\n\nasync function grantAuth() {\n  if (isAuthorized) {\n    return GoogleUser;\n  }\n  return GoogleAuth.signIn();\n}\n\nasync function listChannels(forUsername, pageToken) {\n  if (forUsername === \"mine\") {\n    return forUsername;\n  }\n  return gapi.client.youtube.channels.list({\n    part: [\"snippet,contentDetails\"],\n    maxResults: 50,\n    forUsername,\n    pageToken,\n  });\n}\n\nasync function listPlaylists(channelId, pageToken) {\n  if (channelId === \"mine\") {\n    return gapi.client.youtube.playlists.list({\n      part: [\"snippet,contentDetails\"],\n      maxResults: 50,\n      mine: true,\n      pageToken,\n    });\n  }\n  return gapi.client.youtube.playlists.list({\n    part: [\"snippet,contentDetails\"],\n    maxResults: 50,\n    channelId,\n    pageToken,\n  });\n}\n\nasync function listPlaylistItems(playlistId, pageToken) {\n  return gapi.client.youtube.playlistItems.list({\n    part: [\"snippet\"],\n    maxResults: 50,\n    playlistId,\n    pageToken,\n  });\n}\n\nasync function listVideos(id, pageToken) {\n  return gapi.client.youtube.videos.list({\n    part: [\"snippet,contentDetails,statistics,status\"],\n    maxResults: 50,\n    id,\n    pageToken,\n  });\n}\n\nexport {\n  getAuthStatus,\n  grantAuth,\n  initClient,\n  listChannels,\n  listPlaylists,\n  listPlaylistItems,\n  listVideos,\n};\n","const getURL = (url) => {\n  try {\n    return new URL(url);\n  } catch (e) {\n    if (!url || url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n      return null;\n    }\n    return getURL(`https://${url}`);\n  }\n};\n\nconst isChannelUrl = (url) => {\n  const urlObj = getURL(url);\n  if (urlObj) {\n    return (\n      urlObj.pathname.startsWith(\"/channel/\") ||\n      urlObj.pathname.startsWith(\"/c/\") ||\n      urlObj.pathname.startsWith(\"/user/\")\n    );\n  }\n  return false;\n};\n\nconst isPlaylistUrl = (url) => {\n  const urlObj = getURL(url);\n  if (urlObj) {\n    return (\n      urlObj.pathname.startsWith(\"/playlist\") && urlObj.searchParams.has(\"list\")\n    );\n  }\n  return false;\n};\n\nconst getChannelUrl = (id) => {\n  return `youtube.com/channel/${id}`;\n};\n\nconst getPlaylistUrl = (id) => {\n  return `youtube.com/playlist?list=${id}`;\n};\n\nconst getChannelId = (url) => {\n  const urlObj = getURL(url);\n  if (urlObj) {\n    return urlObj.pathname.split(\"/\").slice(-1)[0];\n  }\n  return null;\n};\n\nconst getPlaylistId = (url) => {\n  const urlObj = getURL(url);\n  if (urlObj) {\n    return urlObj.searchParams.get(\"list\");\n  }\n  return null;\n};\n\nexport {\n  isChannelUrl,\n  isPlaylistUrl,\n  getChannelUrl,\n  getPlaylistUrl,\n  getChannelId,\n  getPlaylistId,\n};\n","import SearchIcon from \"@material-ui/icons/Search\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\n\nimport { isPlaylistUrl } from \"../../utils/urlUtils\";\nimport \"./HeaderView.css\";\n\nconst HeaderView = ({ url, setUrl }) => {\n  const [currentUrl, setCurrentUrl] = useState(url);\n\n  const onCurrentUrlChanged = (e) => {\n    setCurrentUrl(e.target.value);\n  };\n\n  const onSearchButtonClicked = () => {\n    setUrl(currentUrl);\n  };\n\n  let isSearchButtonDisabled = true;\n  if (isPlaylistUrl(currentUrl)) {\n    isSearchButtonDisabled = false;\n  }\n\n  return (\n    <div id=\"header\">\n      <input\n        id=\"url\"\n        type=\"text\"\n        value={currentUrl}\n        onChange={onCurrentUrlChanged}\n        placeholder=\"Playlist URL\"\n      />\n      <button\n        id=\"search\"\n        type=\"button\"\n        disabled={isSearchButtonDisabled}\n        onClick={onSearchButtonClicked}\n      >\n        <SearchIcon />\n      </button>\n    </div>\n  );\n};\n\nHeaderView.propTypes = {\n  url: PropTypes.string.isRequired,\n  setUrl: PropTypes.func.isRequired,\n};\n\nexport default HeaderView;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  url: \"youtube.com/channel/mine\",\n};\n\nconst headerSlice = createSlice({\n  name: \"header\",\n  initialState,\n  reducers: {\n    updateUrl(state, action) {\n      state.url = action.payload.url;\n    },\n  },\n});\n\nexport const { updateUrl } = headerSlice.actions;\n\nexport default headerSlice.reducer;\n","import CssBaseline from \"@material-ui/core/CssBaseline\";\nimport MuiTable from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport React from \"react\";\nimport { useTable } from \"react-table\";\n\nimport \"./Table.css\";\n\nconst Table = ({ columns, data }) => {\n  const { getTableProps, headerGroups, rows, prepareRow } = useTable({\n    columns,\n    data,\n  });\n\n  // Render the UI for your table\n  return (\n    <>\n      <CssBaseline />\n      <MuiTable {...getTableProps()}>\n        <TableHead>\n          {headerGroups.map((headerGroup) => {\n            return (\n              <TableRow {...headerGroup.getHeaderGroupProps()}>\n                {headerGroup.headers.map((column) => {\n                  return (\n                    <TableCell {...column.getHeaderProps()}>\n                      {column.render(\"Header\")}\n                    </TableCell>\n                  );\n                })}\n              </TableRow>\n            );\n          })}\n        </TableHead>\n        <TableBody>\n          {rows.map((row) => {\n            prepareRow(row);\n            return (\n              <TableRow {...row.getRowProps()}>\n                {row.cells.map((cell) => {\n                  return (\n                    <TableCell {...cell.getCellProps()}>\n                      {cell.render(\"Cell\")}\n                    </TableCell>\n                  );\n                })}\n              </TableRow>\n            );\n          })}\n        </TableBody>\n      </MuiTable>\n    </>\n  );\n};\n\nexport default Table;\n","import cloneDeep from \"lodash/cloneDeep\";\nimport PropTypes from \"prop-types\";\nimport React, { useMemo } from \"react\";\n\nimport Table from \"../Table/Table\";\n\nimport \"./PlaylistItemsView.css\";\n\nconst PlaylistItemsView = ({ playlistItemsList }) => {\n  const columns = useMemo(() => {\n    return [\n      {\n        Header: \"Playlist Info\",\n        columns: [\n          {\n            Header: \"Position\",\n            accessor: \"snippet.position\",\n          },\n          {\n            Header: \"Added At\",\n            accessor: \"snippet.publishedAt\",\n          },\n        ],\n      },\n      {\n        Header: \"Video Info\",\n        columns: [\n          {\n            Header: \"Title\",\n            accessor: \"video.snippet.title\",\n          },\n          {\n            Header: \"Channel Title\",\n            accessor: \"snippet.channelTitle\",\n          },\n          {\n            Header: \"Duration\",\n            accessor: \"video.contentDetails.duration\",\n          },\n          {\n            Header: \"Published At\",\n            accessor: \"video.snippet.publishedAt\",\n          },\n        ],\n      },\n      {\n        Header: \"Video Statistics\",\n        columns: [\n          {\n            Header: \"View Count\",\n            accessor: \"video.statistics.viewCount\",\n          },\n          {\n            Header: \"Like Count\",\n            accessor: \"video.statistics.likeCount\",\n          },\n          {\n            Header: \"Dislike Count\",\n            accessor: \"video.statistics.dislikeCount\",\n          },\n          {\n            Header: \"Comment Count\",\n            accessor: \"video.statistics.commentCount\",\n          },\n        ],\n      },\n    ];\n  }, []);\n\n  const data = cloneDeep(playlistItemsList);\n  data.forEach((playlistItem) => {\n    playlistItem.snippet.publishedAt = playlistItem.snippet.publishedAt.substring(\n      0,\n      10\n    );\n    if (playlistItem.video) {\n      playlistItem.video.contentDetails.duration = playlistItem.video.contentDetails.duration\n        .replace(\"P\", \"\")\n        .replace(\"T\", \"\")\n        .toLowerCase();\n      playlistItem.video.snippet.publishedAt = playlistItem.video.snippet.publishedAt.substring(\n        0,\n        10\n      );\n    }\n  });\n\n  return (\n    <div id=\"playlistItems\">\n      <Table columns={columns} data={data} />\n    </div>\n  );\n};\n\nPlaylistItemsView.propTypes = {\n  playlistItemsList: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default PlaylistItemsView;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { listPlaylistItems, listVideos } from \"../../api/apiHandler\";\n\nconst initialState = {\n  playlistItemsList: [],\n  playlistItemsError: {},\n  playlistItemsToken: \"\",\n};\n\nconst playlistItemsSlice = createSlice({\n  name: \"playlistItems\",\n  initialState,\n  reducers: {\n    listPlaylistItemsSuccess(state, action) {\n      state.playlistItemsError = initialState.playlistItemsError;\n\n      state.playlistItemsList = action.payload.playlistItemsList;\n      state.playlistItemsToken = action.payload.playlistItemsToken;\n    },\n    listPlaylistItemsFailed(state, action) {\n      state.playlistItemsList = initialState.playlistItemsList;\n      state.playlistItemsToken = initialState.playlistItemsToken;\n\n      state.playlistItemsError = action.payload.playlistItemsError;\n    },\n    listVideosSuccess(state, action) {\n      state.playlistItemsError = initialState.playlistItemsError;\n\n      state.playlistItemsList = state.playlistItemsList.map(\n        (playlistItem, i) => {\n          return {\n            ...playlistItem,\n            video: action.payload.playlistItemsList[i],\n          };\n        }\n      );\n    },\n    listVideosFailed(state, action) {\n      state.playlistItemsError = action.payload.playlistItemsError;\n    },\n  },\n});\n\nconst {\n  listPlaylistItemsSuccess,\n  listPlaylistItemsFailed,\n  listVideosSuccess,\n  listVideosFailed,\n} = playlistItemsSlice.actions;\n\nconst fetchVideos = (ids) => {\n  return async (dispatch) => {\n    listVideos(ids)\n      .then((response) => {\n        return dispatch(\n          listVideosSuccess({\n            playlistItemsList: response.result.items,\n          })\n        );\n      })\n      .catch((response) => {\n        dispatch(\n          listVideosFailed({\n            playlistItemsError: response,\n          })\n        );\n      });\n  };\n};\n\nconst fetchPlaylistItems = (playlistId) => {\n  return async (dispatch) => {\n    listPlaylistItems(playlistId)\n      .then((response) => {\n        const ids = response.result.items.map((playlistItem) => {\n          return playlistItem.snippet.resourceId.videoId;\n        });\n        dispatch(fetchVideos(ids));\n\n        return dispatch(\n          listPlaylistItemsSuccess({\n            playlistItemsList: response.result.items,\n            playlistItemsToken: response.result.nextPageToken,\n          })\n        );\n      })\n      .catch((response) => {\n        dispatch(\n          listPlaylistItemsFailed({\n            playlistItemsError: response,\n          })\n        );\n      });\n  };\n};\n\nexport { fetchPlaylistItems, fetchVideos };\n\nexport default playlistItemsSlice.reducer;\n","import React, { useCallback, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport HeaderView from \"./components/Header/HeaderView\";\nimport { updateUrl } from \"./components/Header/headerState\";\nimport PlaylistItemsView from \"./components/PlaylistItems/PlaylistItemsView\";\nimport { fetchPlaylistItems } from \"./components/PlaylistItems/playlistItemsState\";\nimport { isPlaylistUrl, getPlaylistId } from \"./utils/urlUtils\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  const { url } = useSelector((state) => {\n    return state.headerView;\n  });\n\n  const { playlistItemsList } = useSelector((state) => {\n    return state.playlistItemsView;\n  });\n\n  const setUrl = useCallback(\n    (newUrl) => {\n      if (isPlaylistUrl(newUrl)) {\n        dispatch(updateUrl({ url: newUrl }));\n      }\n    },\n    [dispatch]\n  );\n\n  useEffect(() => {\n    if (isPlaylistUrl(url)) {\n      dispatch(fetchPlaylistItems(getPlaylistId(url)));\n    }\n  }, [url, dispatch]);\n\n  let components;\n  if (isPlaylistUrl(url) && playlistItemsList.length > 0) {\n    components = <PlaylistItemsView playlistItemsList={playlistItemsList} />;\n  }\n\n  return (\n    <>\n      <HeaderView url={url} setUrl={setUrl} />\n      {components}\n    </>\n  );\n};\n\nexport default App;\n","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\n\nimport headerState from \"./components/Header/headerState\";\nimport playlistItemsState from \"./components/PlaylistItems/playlistItemsState\";\n\nconst store = configureStore({\n  reducer: combineReducers({\n    headerView: headerState,\n    playlistItemsView: playlistItemsState,\n  }),\n});\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport { initClient } from \"./api/apiHandler\";\nimport store from \"./store\";\n\nimport \"./index.css\";\n\ninitClient().then(() => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n  );\n});\n"],"sourceRoot":""}